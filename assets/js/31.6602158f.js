(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{683:function(t,e,a){t.exports=a.p+"assets/img/WalletTransactions.4bdec6ac.png"},684:function(t,e,a){t.exports=a.p+"assets/img/WalletSend.11c9a1cc.png"},685:function(t,e,a){t.exports=a.p+"assets/img/WalletReceive.b66ff262.png"},686:function(t,e,a){t.exports=a.p+"assets/img/WalletReceiveTwo.8730da42.png"},687:function(t,e,a){t.exports=a.p+"assets/img/WalletSetting.f8faa28f.png"},688:function(t,e,a){t.exports=a.p+"assets/img/WalletSettingTwo.aa27485f.png"},689:function(t,e,a){t.exports=a.p+"assets/img/WalletRescan.f42b1081.png"},690:function(t,e,a){t.exports=a.p+"assets/img/WalletRescanProgress.7dfd1487.png"},691:function(t,e,a){t.exports=a.p+"assets/img/ManageLabel.0ed9ac9c.png"},901:function(t,e,a){"use strict";a.r(e);var s=a(17),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"btcpay-server-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#btcpay-server-wallet"}},[t._v("#")]),t._v(" BTCPay Server Wallet")]),t._v(" "),e("p",[t._v("BTCPay Server has a built in, "),e("strong",[t._v("full-node reliant wallet")]),t._v(" that allows for easy funds management.")]),t._v(" "),e("p",[t._v("Each "),e("RouterLink",{attrs:{to:"/CreateStore/"}},[t._v("store")]),t._v("'s configured cryptocurrency has a separate wallet displayed under Wallets in the menu bar.")],1),t._v(" "),e("h2",{attrs:{id:"wallet-features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wallet-features"}},[t._v("#")]),t._v(" Wallet features")]),t._v(" "),e("p",[t._v("The wallet contains the following features:")]),t._v(" "),e("ol",[e("li",[t._v("Transactions")]),t._v(" "),e("li",[t._v("Send")]),t._v(" "),e("li",[t._v("Receive")]),t._v(" "),e("li",[t._v("Rescan")]),t._v(" "),e("li",[t._v("Pull payments")]),t._v(" "),e("li",[t._v("Payouts")]),t._v(" "),e("li",[t._v("PSBT")]),t._v(" "),e("li",[t._v("Settings")])]),t._v(" "),e("h3",{attrs:{id:"transactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transactions"}},[t._v("#")]),t._v(" Transactions")]),t._v(" "),e("p",[t._v("An overview of the incoming (green), outgoing (red) and unconfirmed (grayed out) "),e("strong",[t._v("transactions")]),t._v(" displayed together with timestamps and balances, sorted by date. You can click on the transaction ID to view the transaction details on the block explorer.")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(683),alt:"Individual Wallet",title:"Individual Wallet"}})]),t._v(" "),e("h4",{attrs:{id:"transaction-labels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-labels"}},[t._v("#")]),t._v(" Transaction Labels")]),t._v(" "),e("p",[t._v("The table below lists the various "),e("strong",[t._v("transaction labels used by BTCPay")]),t._v(".")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Transaction Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("app")]),t._v(" "),e("td",[t._v("Payment was received through an app created invoice")])]),t._v(" "),e("tr",[e("td",[t._v("invoice")]),t._v(" "),e("td",[t._v("Payment was received through an invoice")])]),t._v(" "),e("tr",[e("td",[t._v("payjoin")]),t._v(" "),e("td",[t._v("Not paid, invoice timer still has not expired")])]),t._v(" "),e("tr",[e("td",[t._v("payjoin-exposed")]),t._v(" "),e("td",[t._v("UTXO was exposed through an invoice payjoin proposal")])]),t._v(" "),e("tr",[e("td",[t._v("payment-request")]),t._v(" "),e("td",[t._v("Payment was received through a payment request")])]),t._v(" "),e("tr",[e("td",[t._v("payout")]),t._v(" "),e("td",[t._v("Payment was sent through a payout or refund")])])])]),t._v(" "),e("p",[t._v("You can also create your own "),e("RouterLink",{attrs:{to:"/FAQ/Wallet/#how-to-add-custom-labels-and-comments-to-transactions"}},[t._v("custom transaction labels and comments")]),t._v(".")],1),t._v(" "),e("h3",{attrs:{id:"send"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#send"}},[t._v("#")]),t._v(" Send")]),t._v(" "),e("p",[t._v("The Send function allows "),e("strong",[t._v("spending of the funds from the BTCPay wallet")]),t._v(".")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(684),alt:"Send from the Wallet",title:"Send from the Wallet"}})]),t._v(" "),e("h4",{attrs:{id:"advanced-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advanced-settings"}},[t._v("#")]),t._v(" Advanced Settings")]),t._v(" "),e("p",[t._v("Certain wallet features are available for advanced users. Toggle the "),e("code",[t._v("Advanced Settings")]),t._v(" within the "),e("code",[t._v("Send")]),t._v(" tab to preview them.")]),t._v(" "),e("h5",{attrs:{id:"dont-create-utxo-change"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dont-create-utxo-change"}},[t._v("#")]),t._v(" Don't create UTXO change")]),t._v(" "),e("p",[t._v("This option is available in the "),e("code",[t._v("Advanced mode")]),t._v(" of the "),e("code",[t._v("Send")]),t._v(" page.")]),t._v(" "),e("p",[t._v("It is a privacy enhancing feature which is useful when you're sending funds to another wallet of yours or to an exchange. It makes sure that no change UTXO is created by "),e("strong",[t._v("rounding up")]),t._v(" the amount sent.")]),t._v(" "),e("p",[t._v("By default this feature is disabled, so if your wallet has a UTXO of "),e("code",[t._v("1.1 BTC")]),t._v(" and you input an amount equal to "),e("code",[t._v("1.0 BTC")]),t._v(", the resulting transaction will have two outputs "),e("code",[t._v("0.1 BTC")]),t._v(" of change, and "),e("code",[t._v("1.0 BTC")]),t._v(" to your destination.")]),t._v(" "),e("p",[t._v("Blockchain analysis will understand that those "),e("code",[t._v("0.1 BTC")]),t._v(" of change belong to the same entity which controlled "),e("code",[t._v("1.1 BTC")]),t._v(" before, and can track the future purchase you make under the same pattern.")]),t._v(" "),e("p",[t._v("By enabling this feature, BTCPay Server wallet will round up the amount sent to "),e("code",[t._v("1.1 BTC")]),t._v(" such that no change output is sent back to you.")]),t._v(" "),e("p",[t._v("Warning: Despite the fact, in this example, that you entered "),e("code",[t._v("1.0")]),t._v(" in the amount field, the amount that will really be sent to your destination will be "),e("code",[t._v("1.1 BTC")]),t._v(".")]),t._v(" "),e("h5",{attrs:{id:"other-features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other-features"}},[t._v("#")]),t._v(" Other features")]),t._v(" "),e("h6",{attrs:{id:"camera-qr-scan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#camera-qr-scan"}},[t._v("#")]),t._v(" Camera QR scan")]),t._v(" "),e("p",[t._v("Scan option in wallet (camera icon in send screen) lets you "),e("strong",[t._v("use your device’s camera to scan a QR code containing an address or BIP21 payment link")]),t._v(". It auto-populates the sending information so that you don’t have to manually copy-paste an address and amount.")]),t._v(" "),e("h6",{attrs:{id:"paste-bip21-address"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#paste-bip21-address"}},[t._v("#")]),t._v(" Paste BIP21 address")]),t._v(" "),e("p",[t._v("This option "),e("strong",[t._v("decodes a BIP21 payment link")]),t._v(". It's useful when you're trying to pay a "),e("RouterLink",{attrs:{to:"/Payjoin/"}},[t._v("Payjoin")]),t._v(" invoice.")],1),t._v(" "),e("h4",{attrs:{id:"signing-a-transaction-spending"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#signing-a-transaction-spending"}},[t._v("#")]),t._v(" Signing a transaction (spending)")]),t._v(" "),e("p",[t._v("To spend the funds, you are required to "),e("strong",[t._v("sign")]),t._v(" the transaction. Transactions can be signed with:")]),t._v(" "),e("ul",[e("li",[t._v("Hardware Wallet")]),t._v(" "),e("li",[t._v("Wallet supporting PSBT")]),t._v(" "),e("li",[t._v("HD private key or recovery seed")]),t._v(" "),e("li",[t._v("Hot Wallet")])]),t._v(" "),e("h5",{attrs:{id:"signing-with-hd-private-key-or-mnemonic-seed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#signing-with-hd-private-key-or-mnemonic-seed"}},[t._v("#")]),t._v(" Signing with HD Private Key or mnemonic seed")]),t._v(" "),e("p",[t._v("If you set up an "),e("RouterLink",{attrs:{to:"/WalletSetup/#use-an-existing-wallet"}},[t._v("existing wallet with your BTCPay Server")]),t._v(", you can spend the funds by inputting your private key into an appropriate field. Make sure to set a proper "),e("code",[t._v("AccountKeyPath")]),t._v(" in Wallet > Settings otherwise you won't be able to spend.")],1),t._v(" "),e("h5",{attrs:{id:"signing-with-a-wallet-supporting-psbt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#signing-with-a-wallet-supporting-psbt"}},[t._v("#")]),t._v(" Signing with a wallet supporting PSBT")]),t._v(" "),e("p",[t._v("PSBT ("),e("strong",[t._v("Partially Signed Bitcoin Transactions")]),t._v(") is an interchange format for Bitcoin transactions that are not fully signed yet.\nPSBT is supported in BTCPay Server and can be signed with compatible hardware and software wallets.")]),t._v(" "),e("p",[t._v("The construction of a fully signed Bitcoin transaction goes through the following steps:")]),t._v(" "),e("ul",[e("li",[t._v("A PSBT gets constructed with certain inputs and outputs, but no signatures")]),t._v(" "),e("li",[t._v("The exported PSBT can be imported by a wallet that supports this format")]),t._v(" "),e("li",[t._v("The transaction data can be inspected and signed using the wallet")]),t._v(" "),e("li",[t._v("The signed PSBT file gets exported from the wallet and imported with BTCPay Server")]),t._v(" "),e("li",[t._v("BTCPay Server produces the final Bitcoin transaction")]),t._v(" "),e("li",[t._v("You verify the result and broadcast it to the network")])]),t._v(" "),e("p",[t._v("Tutorials:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/ColdCardWallet/#spending-from-btcpay-server-wallet-with-coldcard-psbt"}},[t._v("Sign a PSBT transaction with ColdCard Hardware Wallet")]),t._v(" (completely offline/air-gapped)")],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/Sign-PSBT-with-sparrow-wallet/"}},[t._v("Create and sign a PSBT transaction with Sparrow wallet")])],1)]),t._v(" "),e("h5",{attrs:{id:"signing-with-a-hardware-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#signing-with-a-hardware-wallet"}},[t._v("#")]),t._v(" Signing with a hardware wallet")]),t._v(" "),e("p",[t._v("BTCPay Server has built-in hardware wallet support allowing you to "),e("strong",[t._v("use your hardware wallet with BTCPay")]),t._v(", without leaking information to third-party apps or servers.")]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/HardwareWalletIntegration/"}},[t._v("Check instructions")]),t._v(" on how to set up and sign with a "),e("a",{attrs:{href:"https://github.com/bitcoin-core/HWI#device-support",target:"_blank",rel:"noopener noreferrer"}},[t._v("compatible hardware wallet"),e("OutboundLink")],1),t._v(".")],1),t._v(" "),e("h5",{attrs:{id:"signing-with-a-hot-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#signing-with-a-hot-wallet"}},[t._v("#")]),t._v(" Signing with a hot wallet")]),t._v(" "),e("p",[t._v("If you "),e("RouterLink",{attrs:{to:"/CreateWallet/"}},[t._v("created a new wallet")]),t._v(" when setting up your store and enabled it as a "),e("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[t._v("hot wallet")]),t._v(", since version 1.2.0, we've added an option that when a "),e("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[t._v("hot wallet")]),t._v(" is created, it'll automatically use the seed stored on a server to sign.")],1),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("DANGER")]),t._v(" "),e("p",[t._v("Using the hot wallet feature comes with security implications; please be sure to read and understand them over at the "),e("RouterLink",{attrs:{to:"/CreateWallet/#security-implications"}},[t._v("Hot Wallet documentation")])],1)]),t._v(" "),e("h3",{attrs:{id:"receive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#receive"}},[t._v("#")]),t._v(" Receive")]),t._v(" "),e("p",[t._v("The Receive tab "),e("strong",[t._v("generates an unused address which can be used to receive payments")]),t._v(". The same can be achieved by generating an invoice (Invoices > Create new invoice).")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(685),alt:"Wallet Receive",title:"Wallet Receive"}})]),t._v(" "),e("figure",[e("img",{attrs:{src:a(686),alt:"Wallet Receive Two",title:"Wallet Receive Two"}})]),t._v(" "),e("h3",{attrs:{id:"pull-payments"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pull-payments"}},[t._v("#")]),t._v(" Pull Payments")]),t._v(" "),e("p",[t._v("This feature gives you the ability to "),e("strong",[t._v("create a Pull Payment")]),t._v(", so that an outside individual may request to "),e("code",[t._v("pull")]),t._v(" funds from your wallet.")]),t._v(" "),e("p",[t._v("For more information, see "),e("RouterLink",{attrs:{to:"/PullPayments/"}},[t._v("Pull Payments")]),t._v(".")],1),t._v(" "),e("h3",{attrs:{id:"payouts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#payouts"}},[t._v("#")]),t._v(" Payouts")]),t._v(" "),e("p",[t._v("This section lets you manage Pull Payments and gives you the ability to "),e("strong",[t._v("accept or decline payouts requested by outside individuals")]),t._v(".")]),t._v(" "),e("p",[t._v("For more information, see "),e("RouterLink",{attrs:{to:"/PullPayments/#approve-and-pay-a-payout"}},[t._v("Payouts")]),t._v(".")],1),t._v(" "),e("h3",{attrs:{id:"settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#settings"}},[t._v("#")]),t._v(" Settings")]),t._v(" "),e("p",[t._v("In the top right corner of your "),e("code",[t._v("wallet")]),t._v(" you will find the "),e("code",[t._v("wallet settings")]),t._v(".\nIn the wallet settings tab you can adjust certain settings. If you've configured your wallet by "),e("RouterLink",{attrs:{to:"/CreateWallet/"}},[t._v("creating a new wallet")]),t._v(" or using an existing wallet via the "),e("RouterLink",{attrs:{to:"/HardwareWalletIntegration/"}},[t._v("hardware wallet integration")]),t._v(" these settings will be pre-configured.\nHere, you have the options to perform several actions on your wallet, such Rescanning wallet for missing transactions, prunning old transactions, view wallet phrase, remove wallet among features.")],1),t._v(" "),e("figure",[e("img",{attrs:{src:a(687),alt:"Wallet Rescan",title:"Wallet Rescan"}})]),t._v(" "),e("p",[t._v("If you manually added the extended public key from an external wallet, you'd need to adjust "),e("code",[t._v("AccountKeyPath")]),t._v(" that you can find in your external wallet, for example "),e("code",[t._v("m/84'/0'/0'")]),t._v(" to be able to spend from the BTCPay Wallet.")]),t._v(" "),e("p",[t._v("In "),e("code",[t._v("wallet settings")]),t._v(" you will also find the "),e("code",[t._v("speed policy")]),t._v(" for the specific store.\nThere are 2 main settings under "),e("code",[t._v("Payment")]),t._v(", "),e("RouterLink",{attrs:{to:"/FAQ/Stores/#payment-invalid-if-transactions-fails-to-confirm--minutes-after-invoice-expiration"}},[t._v("Payment invalid if transaction fails to confirm in ... after invoice creation")]),t._v(" and "),e("RouterLink",{attrs:{to:"/FAQ/Stores/#consider-the-invoice-confirmed-when-the-payment-transaction"}},[t._v("Consider the invoice confirmed when the payment transaction...")]),t._v(". The latter lets you set the number of confirmations required to be recognized as settled.")],1),t._v(" "),e("figure",[e("img",{attrs:{src:a(688),alt:"Wallet settings",title:"Wallet settings"}})]),t._v(" "),e("h3",{attrs:{id:"re-scan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#re-scan"}},[t._v("#")]),t._v(" Re-scan")]),t._v(" "),e("p",[t._v("The Rescan relies on Bitcoin Core 0.17.0's "),e("code",[t._v("scantxoutset")]),t._v(" to "),e("strong",[t._v("scan the current state of the blockchain")]),t._v(" (called UTXO Set) for coins belonging to the configured derivation scheme.")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(689),alt:"Wallet Rescan",title:"Wallet Rescan"}})]),t._v(" "),e("p",[t._v("Wallet re-scan solves two critical problems for BTCPay users:")]),t._v(" "),e("ol",[e("li",[e("RouterLink",{attrs:{to:"/FAQ/Wallet/#missing-payments-in-my-software-or-hardware-wallet"}},[t._v("Gap limit")])],1),t._v(" "),e("li",[t._v("Importing a previously used wallet")])]),t._v(" "),e("p",[e("strong",[t._v("Gap limit")]),t._v(": Most wallets typically have the address gap limit set to 20. This means that if a merchant receives 21 or more consecutive unpaid invoices, those wallets show the incorrect balance and some transactions may not be visible.")]),t._v(" "),e("p",[e("strong",[t._v("Wallet import")]),t._v(": When users add a derivation scheme of a wallet that had transactions in the past (previously used wallet), BTCPay won't be able to show the balance and transactions from the past.")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(690),alt:"Wallet rescan progress",title:"Wallet rescan progress"}})]),t._v(" "),e("p",[t._v("Re-scan is a feature that solves both of these problems. Once the scan is complete, BTCPay Server will show the correct balance, along with the past transactions of the wallet.")]),t._v(" "),e("p",[t._v("Wallet re-scan requires access to the full node which means that this function is only available for server owners.")]),t._v(" "),e("p",[t._v("Users who use a third-party host should use a newly generated xpub key and also use an external wallet like Electrum which allows them to increase the gap limit.")]),t._v(" "),e("h3",{attrs:{id:"labels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#labels"}},[t._v("#")]),t._v(" Labels")]),t._v(" "),e("p",[t._v("At the bottom of your wallet settings, you can manage your "),e("code",[t._v("custom transaction label")]),t._v(".")]),t._v(" "),e("p",[t._v("Clicking on the link would take you to a page where you can view all custom labels associated to all transaction. You can remove any or all custom labels given the required\npermission.")]),t._v(" "),e("figure",[e("img",{attrs:{src:a(691),alt:"Wallet settings",title:"Wallet settings"}})])])}),[],!1,null,null,null);e.default=n.exports}}]);