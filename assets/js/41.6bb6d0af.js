(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{548:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Receive_1.9b34f175.png"},549:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Receive_2.46633674.png"},550:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Receive_3.9eede34c.png"},551:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Pay_1.b4dc6b43.png"},552:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Pay_2.8a0a51a4.png"},553:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Pay_3.6dc7c8c0.png"},554:function(e,a,t){e.exports=t.p+"assets/img/Payjoin_Guide_Pay_4.5608332a.png"},869:function(e,a,t){"use strict";t.r(a);var i=t(17),o=Object(i.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"btcpay-server-payjoin-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#btcpay-server-payjoin-guide"}},[e._v("#")]),e._v(" BTCPay Server Payjoin Guide")]),e._v(" "),a("p",[e._v("This document explains how to use BTCPay Server's "),a("strong",[e._v("Payjoin")]),e._v(" feature. For a detailed, technical explanation of how payjoin is implemented, check "),a("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0078.mediawiki",target:"_blank",rel:"noopener noreferrer"}},[e._v("BIP78"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("You can follow this video to better understand what payjoin is and how to use it.")]),e._v(" "),a("a",{staticClass:"ytEmbed",staticStyle:{"background-image":"url(https://img.youtube.com/vi/-Wrqv6nSmAM/hqdefault.jpg)"},attrs:{href:"https://www.youtube.com/watch?v=-Wrqv6nSmAM",title:"How to use Payjoin with BTCPay Server","data-id":"-Wrqv6nSmAM"}},[a("iframe",{attrs:{title:"How to use Payjoin with BTCPay Server","data-src":"https://www.youtube-nocookie.com/embed/-Wrqv6nSmAM?&autoplay=1&autohide=1&modestbranding=1&color=white&rel=0",frameborder:"0",allow:"autoplay;encrypted-media;picture-in-picture",allowfullscreen:""}})]),e._v(" "),a("h2",{attrs:{id:"enabling-payjoin-as-a-merchant"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-payjoin-as-a-merchant"}},[e._v("#")]),e._v(" Enabling Payjoin as a merchant")]),e._v(" "),a("ol",[a("li",[e._v("Create a store")]),e._v(" "),a("li",[e._v("Configure a "),a("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[e._v("hot wallet")]),e._v(" for your derivation scheme. Be sure to use either segwit or segwit wrapped as the address type.")],1),e._v(" "),a("li",[e._v('Enable Payjoin/P2EP in the "General Settings" and click "Save"')])]),e._v(" "),a("p",[e._v("It's important to note that you will need at least 1 UTXO for payjoin to work.")]),e._v(" "),a("figure",[a("img",{attrs:{src:t(548),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("figure",[a("img",{attrs:{src:t(549),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("figure",[a("img",{attrs:{src:t(550),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("h2",{attrs:{id:"paying-to-payjoin-as-a-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#paying-to-payjoin-as-a-user"}},[e._v("#")]),e._v(" Paying to Payjoin as a user")]),e._v(" "),a("p",[e._v("The "),a("RouterLink",{attrs:{to:"/Wallet/"}},[e._v("BTCPay Wallet")]),e._v(" supports Payjoin.")],1),e._v(" "),a("ol",[a("li",[e._v("Retrieve the BIP21 payment link from a BTCPay Server invoice which has payjoin enabled by either:\n"),a("ul",[a("li",[e._v("Scan the QR code with the camera scanning feature")]),e._v(" "),a("li",[e._v('Copy the link from the "Open in wallet" button and paste it in the "Parse BIP21" prompt')])])]),e._v(" "),a("li",[e._v('The send form should be populated with the payment details. You can check if the invoice supports payjoin by expanding "advanced settings" to see if there is a "Payjoin endpoint" input with a url.')]),e._v(" "),a("li",[e._v("Sign your transaction using either BTCPay Server's hardware wallet support via "),a("RouterLink",{attrs:{to:"/HardwareWalletIntegration/"}},[e._v("BTCPay Vault")]),e._v(" or the "),a("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[e._v("hot wallet")]),e._v(" feature.")],1),e._v(" "),a("li",[e._v("Once your original transaction is ready, you will be given the option to either "),a("code",[e._v("Broadcast (Payjoin)")]),e._v(" or to "),a("code",[e._v("Broadcast (Simple)")]),e._v(". Choose "),a("code",[e._v("Broadcast (Payjoin)")]),e._v(".")]),e._v(" "),a("li",[e._v("The payjoin server will propose a new special transaction, if possible. If the payjoin server is unable to do the payjoin, the original transaction is broadcast instead.")]),e._v(" "),a("li",[e._v("If you are using a hardware wallet, you will be asked to sign the payjoin transaction again (the hot wallet feature signs the transaction for you automatically).")]),e._v(" "),a("li",[e._v("Congratulations, you've just helped improve Bitcoin's fungibility and your financial sovereignty!")])]),e._v(" "),a("figure",[a("img",{attrs:{src:t(551),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("figure",[a("img",{attrs:{src:t(552),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("figure",[a("img",{attrs:{src:t(553),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("figure",[a("img",{attrs:{src:t(554),alt:"Receive PayJoin in BTCPay Server",title:"Receive PayJoin in BTCPay Server"}})]),e._v(" "),a("h2",{attrs:{id:"why-did-a-payjoin-not-happen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why-did-a-payjoin-not-happen"}},[e._v("#")]),e._v(" Why did a payjoin not happen?")]),e._v(" "),a("p",[e._v("There's multiple reasons for this:")]),e._v(" "),a("ul",[a("li",[e._v("The store did not have any utxos to contribute towards a payjoin")]),e._v(" "),a("li",[e._v("Your wallet does not use the same format as the store's (essential to not raise suspicion to analysis companies)")]),e._v(" "),a("li",[e._v("You are not using segwit or p2sh wrapped segwit.")]),e._v(" "),a("li",[e._v("The payjoin server is not available")])]),e._v(" "),a("h2",{attrs:{id:"supported-wallets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supported-wallets"}},[e._v("#")]),e._v(" Supported wallets")]),e._v(" "),a("p",[e._v("Please contact and encourage your wallet developers to add support. The more widespread the "),a("strong",[e._v("usage of payjoin")]),e._v(", the more broken the heuristics used by blockchain analysis companies become and can effectively trace your financial history. If you are a wallet developer, please "),a("RouterLink",{attrs:{to:"/Community/"}},[e._v("contact us")]),e._v(" if you need help or have feedback.")],1)])}),[],!1,null,null,null);a.default=o.exports}}]);