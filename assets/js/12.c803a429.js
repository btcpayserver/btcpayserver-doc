(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{340:function(e,t,o){e.exports=o.p+"assets/img/complete_payment.ff220853.png"},605:function(e,t,o){e.exports=o.p+"assets/img/step_1.9472dd10.png"},606:function(e,t,o){e.exports=o.p+"assets/img/step_2.09916e50.png"},607:function(e,t,o){e.exports=o.p+"assets/img/step_3.bee69e6c.png"},608:function(e,t,o){e.exports=o.p+"assets/img/step_4.5a0db702.png"},609:function(e,t,o){e.exports=o.p+"assets/img/step_5.8b8524c9.png"},610:function(e,t,o){e.exports=o.p+"assets/img/step_6.69d3a0cd.png"},611:function(e,t,o){e.exports=o.p+"assets/img/step_7.78e87aed.png"},612:function(e,t,o){e.exports=o.p+"assets/img/step_8.e0aa468d.png"},613:function(e,t,o){e.exports=o.p+"assets/img/step_9-1.05f3f7c8.png"},614:function(e,t,o){e.exports=o.p+"assets/img/step_9-2.e3e5012d.png"},615:function(e,t,o){e.exports=o.p+"assets/img/step_10_and_11.144512a3.png"},616:function(e,t,o){e.exports=o.p+"assets/img/pm_step_1.1bea1f2a.png"},617:function(e,t,o){e.exports=o.p+"assets/img/pm_step_2_and_3.9bf6b09b.png"},618:function(e,t,o){e.exports=o.p+"assets/img/btcpay_step_1-7.9831ecbf.png"},619:function(e,t,o){e.exports=o.p+"assets/img/btcpay_step_8.f92d2d58.png"},620:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-2-settings.0146aead.png"},621:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-4-1.735b3d9f.png"},622:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-4-2.0b871a76.png"},623:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-5-1.a71cf731.png"},624:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-5-2.9550a3c5.png"},625:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-6.1bcb2593.png"},626:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-7.0cca2330.png"},627:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-8.110012d5.png"},628:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-9-1.98153ef7.png"},629:function(e,t,o){e.exports=o.p+"assets/img/app-setup_step-9-2.2cd78663.png"},630:function(e,t,o){e.exports=o.p+"assets/img/partner-app_allow-network-access.6c68e580.png"},631:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_loginto-container-auth-start.cfcc6814.png"},632:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_partner_login_email.be60b3c8.png"},633:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_login-confirmation.7297c62f.png"},634:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_login_success.7e98caa2.png"},635:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_deployment_done.491d277a.png"},636:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_deployment_url_browser.38d86e69.png"},637:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_custom-distribution-1.00bcb7ef.png"},638:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-confirm.ba7101d7.png"},639:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-generate-link.cdbb0a8a.png"},640:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-generated-link-copy.138a4008.png"},641:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-choose-store.7f2e8f0a.png"},642:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-install-to-store-confirm.87685dd6.png"},643:function(e,t,o){e.exports=o.p+"assets/img/app-deploy_distribution-install-complete-config-app.959b95fe.png"},644:function(e,t,o){e.exports=o.p+"assets/img/payment_option.08c972fd.png"},645:function(e,t,o){e.exports=o.p+"assets/img/pay_with_btcpay_modal.1899a6bb.png"},646:function(e,t,o){e.exports=o.p+"assets/img/pay_with_btcpay_modal_invoice.67c073fe.png"},647:function(e,t,o){e.exports=o.p+"assets/img/payment_invoice.3fd764b0.png"},648:function(e,t,o){e.exports=o.p+"assets/img/paid_invoice.084d2a4e.png"},649:function(e,t,o){e.exports=o.p+"assets/img/paid_invoice_btcpay.676f5a70.png"},650:function(e,t,o){e.exports=o.p+"assets/img/invoice_payment_details.e65e8d6b.png"},929:function(e,t,o){"use strict";o.r(t);var a=o(17),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"accept-bitcoin-in-shopify-with-btcpay-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#accept-bitcoin-in-shopify-with-btcpay-server"}},[e._v("#")]),e._v(" Accept Bitcoin in Shopify with BTCPay Server")]),e._v(" "),t("p",[e._v("Introducing BTCPay Server for Shopify  open-source payment gateway that enables you accept bitcoin payments directly on your website or stores from customers with no fee.")]),e._v(" "),t("p",[e._v("Our integration with Shopify allows you connect your self-hosted BTCPay Server with your "),t("a",{attrs:{href:"https://www.shopify.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Shopify store"),t("OutboundLink")],1),e._v(", enabling you accept Bitcoin payments swiftly and securely.")]),e._v(" "),t("h2",{attrs:{id:"what-btcpay-offers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-btcpay-offers"}},[e._v("#")]),e._v(" What BTCPay offers:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Zero fees")]),e._v(": Enjoy a payment gateway with no fees. Yes, You saw that right. Zero fees!")]),e._v(" "),t("li",[t("strong",[e._v("Direct payment, No middlemen or KYC")]),e._v(": Say goodbye to intermediaries and tedious paperwork, and get your money directly in your wallet")]),e._v(" "),t("li",[t("strong",[e._v("Fully automated system")]),e._v(": BTCPay takes care of payments, invoice management and refunds automatically.")]),e._v(" "),t("li",[t("strong",[e._v("Display Bitcoin QR code at checkout")]),e._v(": Enhance customer experience with an easy and secure payment option.")]),e._v(" "),t("li",[t("strong",[e._v("Self-hosted infrastructure")]),e._v(": Maintain full control over your payment gateway.")]),e._v(" "),t("li",[t("strong",[e._v("Lightning Network integrated")]),e._v(": Instant, fast and low cost payments and payouts")]),e._v(" "),t("li",[t("strong",[e._v("Easy CSV exports")])]),e._v(" "),t("li",[t("strong",[e._v("Versatile plugin system")]),e._v(": Extend functionality according to your needs")]),e._v(" "),t("li",[t("strong",[e._v("Point-of-sale integration")]),e._v("  Accept payments in your physical shops")]),e._v(" "),t("li",[t("strong",[e._v("Multilingual ready")]),e._v(": Serve a global audience right out of the box.")]),e._v(" "),t("li",[t("strong",[e._v("Community-driven support")]),e._v(": Get responsive assistance from our dedicated community ("),t("a",{attrs:{href:"http://chat.btcpayserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mattermost"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://t.me/btcpayserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("Telegram"),t("OutboundLink")],1),e._v(").")])]),e._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites:")]),e._v(" "),t("p",[e._v("Before diving into the setup process, ensure you have the following:")]),e._v(" "),t("ul",[t("li",[e._v("Shopify account")]),e._v(" "),t("li",[e._v("BTCPay Server - "),t("RouterLink",{attrs:{to:"/ShopifyV2/Deployment/"}},[e._v("self-hosted")]),e._v(" or run by a "),t("RouterLink",{attrs:{to:"/Deployment/ThirdPartyHosting/"}},[e._v("third-party host")]),e._v(" v2.0.0 or later.")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/ShopifyV2/CreateStore/"}},[e._v("Created BTCPay Server store")]),e._v(" with "),t("RouterLink",{attrs:{to:"/ShopifyV2/WalletSetup/"}},[e._v("wallet set up")])],1)]),e._v(" "),t("a",{staticClass:"ytEmbed",staticStyle:{"background-image":"url(https://img.youtube.com/vi/jJjAyvgWVfk/hqdefault.jpg)"},attrs:{href:"https://www.youtube.com/watch?v=jJjAyvgWVfk",title:"BTCPay Server - Shopify Video","data-id":"jJjAyvgWVfk"}},[t("iframe",{attrs:{title:"BTCPay Server - Shopify Video","data-src":"https://www.youtube-nocookie.com/embed/jJjAyvgWVfk?&autoplay=1&autohide=1&modestbranding=1&color=white&rel=0",frameborder:"0",allow:"autoplay;encrypted-media;picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("Shopify might give false flags on deprecated API calls. The most likely answer we could find, due to a change by Shopify to specific fields of the "),t("code",[e._v("Order")]),e._v(" resource and is assumed to get used in BTCPay Server. Find more details "),t("a",{attrs:{href:"https://github.com/btcpayserver/btcpayserver/issues/4510",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"setting-up-btcpay-server-with-shopify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-btcpay-server-with-shopify"}},[e._v("#")]),e._v(" Setting up BTCPay Server with Shopify")]),e._v(" "),t("h3",{attrs:{id:"create-an-app-and-get-api-credentials-from-shopify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-an-app-and-get-api-credentials-from-shopify"}},[e._v("#")]),e._v(" Create an app and get API credentials from Shopify")]),e._v(" "),t("ol",[t("li",[e._v("In Shopify, click on "),t("code",[e._v("Apps >")]),e._v(" in the left sidebar"),t("br"),e._v(" "),t("img",{attrs:{src:o(605),alt:"BTCPay Server shopify step 1",title:"BTCPay Server shopify step 1"}})]),e._v(" "),t("li",[e._v("On the modal popped up, click on "),t("code",[e._v("App and sales channel settings")]),t("br"),e._v(" "),t("img",{attrs:{src:o(606),alt:"BTCPay Server shopify step 2",title:"BTCPay Server shopify step 2"}})]),e._v(" "),t("li",[e._v("From the page displayed, click on "),t("code",[e._v("Develop apps")]),e._v(" button"),t("br"),e._v(" "),t("img",{attrs:{src:o(607),alt:"BTCPay Server shopify step 3",title:"BTCPay Server shopify step 3"}})]),e._v(" "),t("li",[e._v("If prompted, click on "),t("code",[e._v("Allow custom app development")]),t("br"),e._v(" "),t("img",{attrs:{src:o(608),alt:"BTCPay Server shopify step 4",title:"BTCPay Server shopify step 4"}})]),e._v(" "),t("li",[t("code",[e._v("Create an app")]),e._v(" and name it, e.g. BTCPay Server, click on "),t("code",[e._v("Create App")]),t("br"),e._v(" "),t("img",{attrs:{src:o(609),alt:"BTCPay Server shopify step 5",title:"BTCPay Server shopify step 5"}}),e._v(" "),t("img",{attrs:{src:o(610),alt:"BTCPay Server shopify step 6",title:"BTCPay Server shopify step 6"}})]),e._v(" "),t("li",[e._v("On the app page, in "),t("code",[e._v("Overview")]),e._v(" tab, click on the "),t("code",[e._v("Configure Admin API scopes")]),t("br"),e._v(" "),t("img",{attrs:{src:o(611),alt:"BTCPay Server shopify step 7",title:"BTCPay Server shopify step 7"}})]),e._v(" "),t("li",[e._v("In the filter admin access scopes type in "),t("code",[e._v("Orders")])]),e._v(" "),t("li",[e._v("In "),t("code",[e._v("Orders")]),e._v(" enable "),t("code",[e._v("read_orders")]),e._v(" and "),t("code",[e._v("write_orders")]),e._v(" and then click "),t("code",[e._v("Save")]),t("br"),e._v(" "),t("img",{attrs:{src:o(612),alt:"BTCPay Server shopify step 8",title:"BTCPay Server shopify step 8"}})]),e._v(" "),t("li",[e._v('Click on the "API credentials" tab, and then click on the '),t("code",[e._v("Install App")]),e._v(" in the top right corner and when pop-up window appears click "),t("code",[e._v("Install")]),t("br"),e._v(" "),t("img",{attrs:{src:o(613),alt:"BTCPay Server shopify step 9-1",title:"BTCPay Server shopify step 9-1"}}),t("br"),e._v(" "),t("img",{attrs:{src:o(614),alt:"BTCPay Server shopify step 9-2",title:"BTCPay Server shopify step 9-2"}})]),e._v(" "),t("li",[e._v("Reveal "),t("code",[e._v("Admin API access token")]),e._v(" and "),t("code",[e._v("copy")]),e._v(" it (and note it down somewhere safe)")]),e._v(" "),t("li",[e._v("Also copy the "),t("code",[e._v("API key")]),e._v(" and "),t("code",[e._v("API Secret")]),e._v(" and note it down somewhere safe"),t("br"),e._v(" "),t("img",{attrs:{src:o(615),alt:"BTCPay Server shopify step 10 and 11",title:"BTCPay Server shopify step 10 and 11"}})]),e._v(" "),t("li",[e._v("Shopify app setup is now complete")])]),e._v(" "),t("h3",{attrs:{id:"set-up-a-custom-payment-method-in-shopify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-a-custom-payment-method-in-shopify"}},[e._v("#")]),e._v(" Set up a custom payment method in Shopify")]),e._v(" "),t("ol",[t("li",[e._v("Back to Shopify, on the home page, click on "),t("code",[e._v("Settings")]),e._v(" >> "),t("code",[e._v("Payments")]),e._v(' in the left sidebar, scroll down to "Manual payment methods", click on '),t("code",[e._v("(+) Manual payment method")]),e._v(" and select "),t("code",[e._v("Create custom payment method")]),e._v(" on the dropdown.\n"),t("img",{attrs:{src:o(616),alt:"Create payment method step 1",title:"Create payment method step 1"}})]),e._v(" "),t("li",[e._v("In "),t("code",[e._v("Custom payment method name")]),e._v(" fill in "),t("code",[e._v("Bitcoin with BTCPay Server")]),e._v(' (also see TIP box below), optionally you can fill in other fields, but it\'s not required.\nHowever you would need to inform your customers that payment with Bitcoin comes on the next screen after checkout on the "Thank you" page. Ideally you would inform your customers in the '),t("code",[e._v("Additional details")]),e._v(' field.\nThe payment option can have a delay between 2 - 10 seconds on the "Thank you" page, before it is displayed so this also needs to be communicated with the customers. Suggested text: '),t("code",[e._v('Please note that the Bitcoin payment option will be displayed on the "Thank you" page after a few seconds. If it does not show up after 5-10 seconds please contact our support.')])]),e._v(" "),t("li",[e._v("Hit "),t("code",[e._v("Activate")]),e._v(" and you've set up Shopify and BTCPay Server payment method successfully.\n"),t("img",{attrs:{src:o(617),alt:"Create payment method step 2 and 3",title:"Create payment method step 2 and 3"}})])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v('"Custom Payment method name" '),t("strong",[e._v("must")]),e._v(" contain at least one of the following words (case-insensitive): "),t("code",[e._v("bitcoin")]),e._v(", "),t("code",[e._v("btcpayserver")]),e._v(", "),t("code",[e._v("btcpay server")]),e._v(" or "),t("code",[e._v("btc")]),e._v(" to work.")])]),e._v(" "),t("h2",{attrs:{id:"install-btcpay-server-shopify-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-btcpay-server-shopify-plugin"}},[e._v("#")]),e._v(" Install BTCPay Server Shopify plugin")]),e._v(" "),t("ol",[t("li",[e._v("In your BTCPay Server, go to your plugins, find and install Shopify plugin. Once done, on the left sidebar click on "),t("code",[e._v("Shopify")])]),e._v(" "),t("li",[e._v("In the first field, "),t("code",[e._v("Shopify Store URL")]),e._v(" enter the subdomain of your Shopify store e.g. SOME_ID.myshopify.com then enter SOME_ID")]),e._v(" "),t("li",[e._v("In the second field, "),t("code",[e._v("API key")]),e._v(" paste the "),t("code",[e._v("API key")]),e._v(" from Shopify - see steps above.")]),e._v(" "),t("li",[e._v("Do the same for the third field, paste the "),t("code",[e._v("API Secret")]),e._v(" from Shopify and paste in the "),t("code",[e._v("API Secret")]),e._v(" field.")]),e._v(" "),t("li",[e._v("In the last field, "),t("code",[e._v("Admin API access token")]),e._v(" paste the "),t("code",[e._v("Admin API access token")])]),e._v(" "),t("li",[e._v("You can decide to edit the payment method description text. This basically defines the text that the user sees when the invoice loads on shopify.")]),e._v(" "),t("li",[e._v("Click "),t("code",[e._v("Save")]),e._v(" on BTCPay Shopify settings page"),t("br"),e._v(" "),t("img",{attrs:{src:o(618),alt:"BTCPay Server step 1-7",title:"BTCPay Server step 1-7"}})]),e._v(" "),t("li",[e._v("BTCPay then validates the credentials, and once validated, creates an create order webhook, and finally saves the credentials."),t("br"),e._v(" "),t("img",{attrs:{src:o(619),alt:"BTCPay Server step 1-7",title:"BTCPay Server step 1-7"}})])]),e._v(" "),t("h2",{attrs:{id:"install-btcpay-shopify-application-on-shopify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-btcpay-shopify-application-on-shopify"}},[e._v("#")]),e._v(" Install BTCPay-Shopify application on Shopify")]),e._v(" "),t("p",[e._v("The second piece of this installation guide is setting up the BTCPay-Shopify app. You can choose to self-host your own BTCPay-Shopify app\nor use the app we submitted to the Shopify App Store.")]),e._v(" "),t("h3",{attrs:{id:"using-btcpay-shopify-from-shopify-app-store"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-btcpay-shopify-from-shopify-app-store"}},[e._v("#")]),e._v(" Using BTCPay-Shopify from Shopify App Store")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("As of now, the BTCPay-Shopify app is not yet available on the Shopify App Store. We are working on getting it published.")])]),e._v(" "),t("ol",[t("li",[e._v("Now we need to install the BTCPay-Shopify app. Visit the "),t("a",{attrs:{href:"https://apps.shopify.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Shopify app store"),t("OutboundLink")],1),e._v(' search for "BTCPay" and install the BTCPay-Shopify app.'),t("br"),e._v(" "),t("a",{attrs:{href:"./img/Shopify/app-setup_step-1.png"}},[e._v("App Setup: Step 1")])]),e._v(" "),t("li",[e._v("Once installed, you can go to your dashboard, click on "),t("code",[e._v("Apps >")]),e._v(" in the left sidebar, then you would see the list of installed apps, including the just installed BTCPay-Shopify app.")]),e._v(" "),t("li",[e._v("Select the BTCPay-Shopify app, and in settings, input your "),t("code",[e._v("BTCPay Server URL")]),e._v(" (e.g https://btcpay.example.com) and the "),t("code",[e._v("storeId")]),e._v(" to which your Shopify plugin is connected on your BTCPay Server instance."),t("br"),e._v(" "),t("img",{attrs:{src:o(620),alt:"App Setup: Step 2 + 3",title:"App Setup: Step 2 + 3"}})]),e._v(" "),t("li",[e._v("In your shopify dashboard, click on "),t("code",[e._v("Settings")]),e._v(", which is located on the bottom of the left nav panel, select "),t("code",[e._v("Checkout")]),e._v(" and then "),t("code",[e._v("Customize")]),e._v("."),t("br"),e._v(" "),t("img",{attrs:{src:o(621),alt:"App Setup: Step 4.1",title:"App Setup: Step 4.1"}}),t("br"),e._v(" "),t("img",{attrs:{src:o(622),alt:"App Setup: Step 4.2",title:"App Setup: Step 4.2"}})]),e._v(" "),t("li",[e._v('In the editor change the selected page to the "Thank you" page.'),t("br"),e._v(" "),t("img",{attrs:{src:o(623),alt:"App Setup: Step 5.1",title:"App Setup: Step 5.1"}}),t("br"),e._v(" "),t("img",{attrs:{src:o(624),alt:"App Setup: Step 5.2",title:"App Setup: Step 5.2"}})]),e._v(" "),t("li",[e._v("Click on the "),t("code",[e._v("Apps")]),e._v(" icon on the left panel\n"),t("img",{attrs:{src:o(625),alt:"App Setup: Step 6",title:"App Setup: Step 6"}})]),e._v(" "),t("li",[e._v('Click on the (+) sign on the listed "BTCPay Checkout" app and then on the "Thank you" page listed.'),t("br"),e._v(" "),t("img",{attrs:{src:o(626),alt:"App Setup: Step 7",title:"App Setup: Step 7"}})]),e._v(" "),t("li",[e._v('You will now see the extension got added to your "Thank you" page. Click '),t("code",[e._v("save")]),e._v(" in the top right corner."),t("br"),e._v(" "),t("img",{attrs:{src:o(627),alt:"App Setup: Step 8",title:"App Setup: Step 8"}})]),e._v(" "),t("li",[e._v("To double check all is working, click on the left arrow "),t("code",[e._v("<")]),e._v(' next to "BTCPay Checkout" and verify it is listed in the "Order details section".'),t("br"),e._v(" "),t("img",{attrs:{src:o(628),alt:"App Setup: Step 9.1",title:"App Setup: Step 9.1"}}),t("br"),e._v(" "),t("img",{attrs:{src:o(629),alt:"App Setup: Step 9.2",title:"App Setup: Step 9.2"}})])]),e._v(" "),t("p",[e._v("Congrats! You have successfully installed the BTCPay-Shopify app and set up the payment method on your Shopify store. You are ready to go. See also the "),t("a",{attrs:{href:"#demo-checkout-flow-after-everything-is-set-up"}},[e._v("demo checkout flow below")]),e._v(" to make sure everything works.")]),e._v(" "),t("h3",{attrs:{id:"self-hosting-the-btcpay-shopify-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#self-hosting-the-btcpay-shopify-app"}},[e._v("#")]),e._v(" Self-hosting the BTCPay-shopify app")]),e._v(" "),t("p",[e._v("If you are a developer or would love to have total control, you would need to create and deploy your own application.")]),e._v(" "),t("h4",{attrs:{id:"requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[e._v("#")]),e._v(" Requirements:")]),e._v(" "),t("ol",[t("li",[e._v("A Linux VPS instance to deploy your shopify app to")]),e._v(" "),t("li",[e._v("The VPS should have "),t("a",{attrs:{href:"https://docs.docker.com/engine/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Engine installed"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v('A domain/subdomain with an DNS A-record to the IP of your VPS instance, in our example below we use the placeholder "YOUR_HOSTED_APP_URL.COM", e.g. btcpaypp.example.com')]),e._v(" "),t("li",[e._v("Shopify plugin installed in your BTCPay Server instance")]),e._v(" "),t("li",[e._v("A "),t("a",{attrs:{href:"https://www.shopify.com/partners",target:"_blank",rel:"noopener noreferrer"}},[e._v("shopify partner account"),t("OutboundLink")],1)])]),e._v(" "),t("h4",{attrs:{id:"installation-instructions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation-instructions"}},[e._v("#")]),e._v(" Installation instructions:")]),e._v(" "),t("h5",{attrs:{id:"create-a-shopify-app-on-partner-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-shopify-app-on-partner-account"}},[e._v("#")]),e._v(" Create a Shopify app on partner account")]),e._v(" "),t("ol",[t("li",[e._v("On Shopify Partner "),t("a",{attrs:{href:"https://partners.shopify.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("dashboard"),t("OutboundLink")],1),e._v(", click on "),t("code",[e._v("Apps")]),e._v(" > "),t("code",[e._v("All Apps")]),e._v(" > "),t("code",[e._v("Create App")]),e._v(" > "),t("code",[e._v("Create app manually")]),e._v(". Enter the name you want to call the app (e.g. BTCPay Server APPNAME) and click "),t("code",[e._v("Create")]),e._v(".")]),e._v(" "),t("li",[e._v('Once created displays your "Client ID" and "Client secret", which we need in a minute.')]),e._v(" "),t("li",[e._v("On the left sidebar click on "),t("code",[e._v("Configuration")])]),e._v(" "),t("li",[e._v("In the "),t("code",[e._v("App URL")]),e._v(" field, enter the URL of your hosted app, e.g. "),t("code",[e._v("https://YOUR_HOSTED_APP_URL.COM")])]),e._v(" "),t("li",[e._v("In the "),t("code",[e._v("Allowed redirection URL(s)")]),e._v(" field, enter:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("https://YOUR_HOSTED_APP_URL.COM/auth/callback\nhttps://YOUR_HOSTED_APP_URL.COM/auth/shopify/callback\nhttps://YOUR_HOSTED_APP_URL.COM/api/auth/callback\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v('In the fields in the "Compliance webhooks" section, enter the following:\n'),t("code",[e._v("Customer data request endpoint")]),e._v(" => https://YOUR_HOSTED_APP_URL.COM/webhooks/customers/data_request\n"),t("code",[e._v("Customer data erasure endpoint")]),e._v(" => https://YOUR_HOSTED_APP_URL.COM/webhooks/customers/redact\n"),t("code",[e._v("Shop data erasure endpoint")]),e._v(" => https://YOUR_HOSTED_APP_URL.COM/webhooks/shop/redact\n"),t("a",{attrs:{href:"./img/Shopify/partner-app_configuration.png"}},[e._v("Shopify-App: configuration.png")])]),e._v(" "),t("li",[e._v("Click on "),t("code",[e._v("Save")]),e._v(" to save the changes")]),e._v(" "),t("li",[e._v("On the left sidebar click on "),t("code",[e._v("API Access")])]),e._v(" "),t("li",[e._v('Scroll down to "Allow network access in checkout and account UI extensions" and click on '),t("code",[e._v("Request access")]),e._v(" "),t("img",{attrs:{src:o(630),alt:"Shopify-App: Allow network access",title:"Shopify-App: Allow network access"}})])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("When you get an error \"Could not grant checkout ui extension scope 'read_checkout_external_data' when you try to enable network access, then go to your partner profile and fill out the first and last name and it will work.")])]),e._v(" "),t("h5",{attrs:{id:"deploy-the-btcpay-shopify-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-btcpay-shopify-app"}},[e._v("#")]),e._v(" Deploy the BTCPay-Shopify app")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Next on your VPS switch to root user and clone or download "),t("a",{attrs:{href:"https://github.com/btcpayserver/shopify-app",target:"_blank",rel:"noopener noreferrer"}},[e._v("this repository"),t("OutboundLink")],1),e._v(" and go into that directory")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/btcpayserver/shopify-app.git shopify-app \n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" shopify-app\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Copy "),t("code",[e._v(".env.example")]),e._v(" to "),t("code",[e._v(".env")]),e._v(" file, it contains the following environment variables:")])])]),e._v(" "),t("ul",[t("li",[e._v("DATABASE_URL => Your database connection string, keep it as is if you are using the default sqlite database")]),e._v(" "),t("li",[e._v('SHOPIFY_API_KEY => Represents the "Client ID" associated with the shopify app created (step 2 above)')]),e._v(" "),t("li",[e._v('SHOPIFY_API_SECRET => Represents the "Client Secret" associated with the shopify app (step 2 above)')]),e._v(" "),t("li",[e._v("SHOPIFY_APP_URL => Internal URL to reach your app, e.g. "),t("code",[e._v("http://localhost:3000")])]),e._v(" "),t("li",[e._v("DOMAIN => Your app domain, e.g. YOUR_HOSTED_APP_URL.COM")]),e._v(" "),t("li",[e._v("LETSENCRYPT_EMAIL => Your email address for Let's Encrypt")])]),e._v(" "),t("div",{staticClass:"language-dotenv extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("DATABASE_URL=file:/app/data/database.sqlite\nSHOPIFY_APP_URL=http://localhost:3000\nSHOPIFY_API_KEY=your_client_id\nSHOPIFY_API_SECRET=your_client_secret\nDOMAIN=YOUR_HOSTED_APP_URL.COM\nLETSENCRYPT_EMAIL=johndoe@example.com\n")])])]),t("p",[e._v("Replace the values of "),t("code",[e._v("SHOPIFY_API_KEY")]),e._v(", "),t("code",[e._v("SHOPIFY_API_SECRET")]),e._v(", DOMAIN and "),t("code",[e._v("LETSENCRYPT_EMAIL")]),e._v(" with your values. Don't change the value of "),t("code",[e._v("DATABASE_URL")]),e._v(" and "),t("code",[e._v("SHOPIFY_APP_URL")]),e._v(".")]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[e._v("Next, rename "),t("code",[e._v("shopify.app.toml.example")]),e._v(" to "),t("code",[e._v("shopify.app.toml")]),e._v(" and change the following values:\nChange the value of "),t("code",[e._v("client_id")]),e._v(" to your apps Client ID. (Same value as SHOPIFY_API_KEY)\nChange "),t("code",[e._v("name")]),e._v(" to the name of your app (created in step 1. above) e.g. "),t("code",[e._v('name = "BTCPay Server APPNAME"')]),e._v("\nChange "),t("code",[e._v("handle")]),e._v(" to the handle of your app (created in step 1. above, you can see it in  e.g. "),t("code",[e._v('handle = "btcpay-server-appname"')]),e._v("\nChange "),t("code",[e._v("application_url")]),e._v(" to your deployed URL. E.g. "),t("code",[e._v('application_url = "https://YOUR_HOSTED_APP_URL.COM"')]),e._v("\nChange the value of "),t("code",[e._v("dev_store_url")]),e._v(" to your shopify store url. E.g. "),t("code",[e._v('dev_store_url = "https://yourdevstore.myshopify.com"')]),e._v("\nIn the "),t("code",[e._v("redirect_urls")]),e._v(" array, replace YOUR_HOSTED_APP_URL.COM with your deployed URL and keep the paths. E.g. "),t("code",[e._v("https://YOUR_HOSTED_APP_URL.COM/auth/callback")])])]),e._v(" "),t("li",[t("p",[e._v("Next we need to edit the file located in "),t("code",[e._v("extensions/btcpaycheckout/src/Checkout.jsx")]),e._v(" and replace the value of the constant "),t("code",[e._v("shopifyApplicaitonUrl")]),e._v(" which is "),t("code",[e._v("https://YOUR_HOSTED_APP_URL.COM")]),e._v(" with your deployed URL.")])]),e._v(" "),t("li",[t("p",[e._v("Now you can run "),t("code",[e._v("docker compose up -d")]),e._v(" and it will spin up a nodeJS, Nginx and Let's encrypt container making sure the app is reachable over SSL. It will also install all the dependencies needed for the app to run.")])]),e._v(" "),t("li",[t("p",[e._v("Once done you need to go into the container and deploy a release. "),t("code",[e._v("docker exec -it shopify-app sh")])])]),e._v(" "),t("li",[t("p",[e._v("Now run "),t("code",[e._v("npm run deploy")]),e._v(". It will ask you to hit a key and it will show an authentication URL.\n"),t("img",{attrs:{src:o(631),alt:"App deploy: deploy and auth page",title:"App deploy: deploy and auth page"}})])]),e._v(" "),t("li",[t("p",[e._v("Copy the URL into the browser and login to your partner account.\n"),t("img",{attrs:{src:o(632),alt:"App deploy: login to partner account",title:"App deploy: login to partner account"}})])]),e._v(" "),t("li",[t("p",[e._v("Confirm and login.\n"),t("img",{attrs:{src:o(633),alt:"App deploy: Confirm CLI login",title:"App deploy: Confirm CLI login"}})])]),e._v(" "),t("li",[t("p",[e._v("You should see a success message in the browser and the terminal should continue.\n"),t("img",{attrs:{src:o(634),alt:"App deploy: Login successful",title:"App deploy: Login successful"}})])]),e._v(" "),t("li",[t("p",[e._v("On terminal it will ask you if you want to release a new version, hit 'enter' to confirm. It will deploy and show you a success message.\n"),t("img",{attrs:{src:o(635),alt:"App deploy: Deployment successful",title:"App deploy: Deployment successful"}})])]),e._v(" "),t("li",[t("p",[e._v("Once deployed let's double-check a few things.\nGo back to your shopify partner app dashboard and on left sidebar click on "),t("code",[e._v("Versions")]),e._v(", you should see a new version with the same timestamp as to when you deployed.\nIn your browser visit https://YOUR_HOSTED_APP_URL.COM and you should see a screen similar to this:\n"),t("img",{attrs:{src:o(636),alt:"App deployment: Check app deployed in browser",title:"App deployment: Check app deployed in browser"}})])])]),e._v(" "),t("p",[e._v("Congrats! You have successfully deployed the BTCPay-Shopify app, only a few steps left.")]),e._v(" "),t("ol",{attrs:{start:"13"}},[t("li",[e._v("Now it is time to deploy your application to the Shopify store that you are linking to BTCPay server. On your partner account app overview, click on "),t("code",[e._v("Choose distribution")]),e._v(" and select "),t("code",[e._v("Custom distribution")]),e._v(". Confirm the selection.")])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("Please note that selecting custom distribution would mean that you can only use the application on only one Shopify store. This is irreversible. You can deploy multiple apps though if you have more than one store.")])]),e._v(" "),t("p",[t("img",{attrs:{src:o(637),alt:"App deploy: select custom distribution",title:"App deploy: select custom distribution"}}),e._v(" "),t("img",{attrs:{src:o(638),alt:"App deploy: confirm custom distribution",title:"App deploy: confirm custom distribution"}})]),e._v(" "),t("ol",{attrs:{start:"14"}},[t("li",[e._v("On the next screen enter the Shopify store URL that you want to link the application to. This is typically the internal store url you see on configuring the store, e.g. something-random.myshopify.com.\n"),t("img",{attrs:{src:o(639),alt:"App deploy: enter your store url",title:"App deploy: enter your store url"}})]),e._v(" "),t("li",[e._v("Click on "),t("code",[e._v("Generate link")]),e._v(" and you will see a link generated.\n"),t("img",{attrs:{src:o(640),alt:"App deploy: link generated",title:"App deploy: link generated"}})]),e._v(" "),t("li",[e._v("Open the link generated on a new tab. Select the store to install the app on (ensure it matches with the store you just set in the URL field).\n"),t("img",{attrs:{src:o(641),alt:"app-deploy_distribution-choose-store.png",title:"app-deploy_distribution-choose-store.png"}})]),e._v(" "),t("li",[e._v("You will see your app listed and you can now install it by clicking on "),t("code",[e._v("Install")]),e._v(".\n"),t("img",{attrs:{src:o(642),alt:"app-deploy_distribution-install-to-store-confirm.png",title:"app-deploy_distribution-install-to-store-confirm.png"}})]),e._v(" "),t("li",[e._v("Once installed, you will see the app settings page.\n"),t("img",{attrs:{src:o(643),alt:"app-deploy_distribution-install-complete-config-app.png",title:"app-deploy_distribution-install-complete-config-app.png"}})])]),e._v(" "),t("p",[e._v("Go back to "),t("a",{attrs:{href:"#using-btcpay-shopify-from-shopify-app-store"}},[e._v("Using BTCPay-Shopify from Shopify App Store")]),e._v(" section above and continue from step 3.")]),e._v(" "),t("h2",{attrs:{id:"demo-checkout-flow-after-everything-is-set-up"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#demo-checkout-flow-after-everything-is-set-up"}},[e._v("#")]),e._v(" Demo Checkout flow after everything is set up")]),e._v(" "),t("figure",[t("img",{attrs:{src:o(340),alt:"BTCPay Server shopify step 30",title:"BTCPay Server shopify step 30"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(644),alt:"BTCPay Server shopify step 31",title:"BTCPay Server shopify step 31"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(340),alt:"BTCPay Server shopify step 32",title:"BTCPay Server shopify step 32"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(645),alt:"BTCPay Server shopify step 33",title:"BTCPay Server shopify step 33"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(646),alt:"BTCPay Server shopify step 34",title:"BTCPay Server shopify step 34"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(647),alt:"BTCPay Server shopify step 35",title:"BTCPay Server shopify step 35"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(648),alt:"BTCPay Server shopify step 36",title:"BTCPay Server shopify step 36"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(649),alt:"BTCPay Server shopify step 37",title:"BTCPay Server shopify step 37"}})]),e._v(" "),t("figure",[t("img",{attrs:{src:o(650),alt:"BTCPay Server shopify step 38",title:"BTCPay Server shopify step 38"}})]),e._v(" "),t("p",[e._v("Feel free to join our support channel over at "),t("a",{attrs:{href:"https://chat.btcpayserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mattermost"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://t.me/btcpayserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("Telegram"),t("OutboundLink")],1),e._v(" if you need help or have any further questions.")])])}),[],!1,null,null,null);t.default=s.exports}}]);