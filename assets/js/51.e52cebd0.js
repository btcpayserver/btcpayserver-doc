(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{486:function(e,t,a){e.exports=a.p+"assets/img/HowToUpdateBTCPayServer.891964d2.png"},487:function(e,t,a){e.exports=a.p+"assets/img/HowToRestartBTCPayServer.83b09b76.png"},488:function(e,t,a){e.exports=a.p+"assets/img/notification-version.767f57d3.png"},489:function(e,t,a){e.exports=a.p+"assets/img/InviteUser.67842055.png"},490:function(e,t,a){e.exports=a.p+"assets/img/BTC-P2P.93be03a2.png"},845:function(e,t,a){"use strict";a.r(t);var s=a(17),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"server-settings-faq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-settings-faq"}},[e._v("#")]),e._v(" Server Settings FAQ")]),e._v(" "),t("p",[e._v("This document covers all the questions and issues related to Server Settings.\nThese settings are only available to the server admin. Take a look at the "),t("RouterLink",{attrs:{to:"/Walkthrough/"}},[e._v("walkthrough page")]),e._v(" to learn more.")],1),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#maintenance"}},[e._v("Maintenance")]),t("ul",[t("li",[t("a",{attrs:{href:"#how-to-update-btcpay-server"}},[e._v("How to update BTCPay Server?")])]),t("li",[t("a",{attrs:{href:"#how-to-restart-btcpay-server"}},[e._v("How to restart BTCPay Server?")])]),t("li",[t("a",{attrs:{href:"#how-to-ssh-into-my-btcpay-running-on-vps"}},[e._v("How to SSH into my BTCPay running on VPS?")])]),t("li",[t("a",{attrs:{href:"#how-to-see-as-an-admin-whats-running-on-my-btcpay-server"}},[e._v("How to see, as an admin, what's running on my BTCPay Server?")])]),t("li",[t("a",{attrs:{href:"#how-can-i-see-my-btcpay-server-version"}},[e._v("How can I see my BTCPay Server version?")])]),t("li",[t("a",{attrs:{href:"#how-can-i-check-my-btcpay-server-version-via-terminal"}},[e._v("How can I check my BTCPay Server version via terminal?")])]),t("li",[t("a",{attrs:{href:"#what-is-btcpay-ssh-key-file"}},[e._v("What is BTCPay SSH key file?")])]),t("li",[t("a",{attrs:{href:"#forgot-btcpay-admin-password"}},[e._v("Forgot BTCPay Admin password?")])]),t("li",[t("a",{attrs:{href:"#how-to-add-a-new-user-by-invite"}},[e._v("How to add a new user by invite?")])]),t("li",[t("a",{attrs:{href:"#how-to-disable-u2f-and-2fa-for-a-user"}},[e._v("How to disable U2F and 2FA for a user?")])]),t("li",[t("a",{attrs:{href:"#how-to-configure-smtp-settings-in-btcpay"}},[e._v("How to configure SMTP settings in BTCPay?")])]),t("li",[t("a",{attrs:{href:"#error-maintenance-feature-requires-access-to-ssh-properly-configured-in-btcpayserver-configuration"}},[e._v("Error: Maintenance feature requires access to SSH properly configured in BTCPayServer configuration")])]),t("li",[t("a",{attrs:{href:"#error-your-local-changes-to-the-following-files-would-be-overwritten-by-merge"}},[e._v("Error: Your local changes to the following files would be overwritten by merge")])]),t("li",[t("a",{attrs:{href:"#error-btcpay-sshkeyfile-is-not-set-when-running-the-docker-install-or-unable-to-update-through-server-settings-maintenance"}},[e._v("Error: BTCPAY_SSHKEYFILE is not set when running the docker install, or unable to update through Server Settings / Maintenance")])])])]),t("li",[t("a",{attrs:{href:"#theme-customization"}},[e._v("Theme / Customization")]),t("ul",[t("li",[t("a",{attrs:{href:"#how-to-customize-my-btcpay-theme-style"}},[e._v("How to customize my BTCPay theme style?")])]),t("li",[t("a",{attrs:{href:"#how-to-modify-the-checkout-page"}},[e._v("How to modify the checkout page?")])]),t("li",[t("a",{attrs:{href:"#how-to-add-google-analytics-code-to-btcpay"}},[e._v("How to add Google Analytics code to BTCPay?")])])])]),t("li",[t("a",{attrs:{href:"#policies"}},[e._v("Policies")]),t("ul",[t("li",[t("a",{attrs:{href:"#how-to-allow-registration-on-my-btcpay-server"}},[e._v("How to allow registration on my BTCPay Server?")])]),t("li",[t("a",{attrs:{href:"#how-to-hide-my-btcpay-server-from-search-engines"}},[e._v("How to hide my BTCPay Server from Search Engines?")])])])]),t("li",[t("a",{attrs:{href:"#services"}},[e._v("Services")]),t("ul",[t("li",[t("a",{attrs:{href:"#how-to-remotely-connect-to-my-btcpay-full-node"}},[e._v("How to remotely connect to my BTCPay full node?")])])])]),t("li",[t("a",{attrs:{href:"#files"}},[e._v("Files")]),t("ul",[t("li",[t("a",{attrs:{href:"#how-to-upload-files-to-btcpay"}},[e._v("How to upload files to BTCPay?")])])])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"maintenance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#maintenance"}},[e._v("#")]),e._v(" Maintenance")]),e._v(" "),t("h3",{attrs:{id:"how-to-update-btcpay-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-update-btcpay-server"}},[e._v("#")]),e._v(" How to update BTCPay Server?")]),e._v(" "),t("p",[e._v("There are 2 ways to update your BTCPay Server:")]),e._v(" "),t("ol",[t("li",[e._v("Updating in the user interface: Server Settings > Maintenance > Update.")])]),e._v(" "),t("figure",[t("img",{attrs:{src:a(486),alt:"Updating BTCPay Server",title:"Updating BTCPay Server"}})]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Updating using SSH: Login into your virtual machine with ssh, then apply following commands:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" btcpayserver-docker\nbtcpay-update.sh\n")])])]),t("h3",{attrs:{id:"how-to-restart-btcpay-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-restart-btcpay-server"}},[e._v("#")]),e._v(" How to restart BTCPay Server?")]),e._v(" "),t("p",[e._v("There are 2 ways to restart your BTCPay Server:")]),e._v(" "),t("ol",[t("li",[e._v("Restarting in the user interface: Server Settings > Maintenance > Restart.")])]),e._v(" "),t("figure",[t("img",{attrs:{src:a(487),alt:"Restarting BTCPay Server",title:"Restarting BTCPay Server"}})]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Restarting using SSH: Login into your virtual machine with ssh, then apply following commands:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" btcpayserver-docker\nbtcpay-restart.sh\n")])])]),t("h3",{attrs:{id:"how-to-ssh-into-my-btcpay-running-on-vps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-ssh-into-my-btcpay-running-on-vps"}},[e._v("#")]),e._v(" How to SSH into my BTCPay running on VPS?")]),e._v(" "),t("p",[e._v("Follow these instructions to SSH via domain or IP:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ssh domainuser@example.com (domain)\nor\nssh domainuser@70.32.86.175 (IP)\n\ndomainuser@example.com's password:\nyourPassword\n")])])]),t("p",[e._v("Press Enter")]),e._v(" "),t("p",[e._v("If this is your first time connecting to the server from this computer, you will see the following output.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("The authenticity of host 'example.com (70.32.86.175)' can't be established.\nRSA key fingerprint is 3c:6d:5c:99:5d:b5:c6:25:5a:d3:78:8e:d2:f5:7a:01.\nAre you sure you want to continue connecting (yes/no)?\n\nyes\n")])])]),t("p",[e._v("Or see this "),t("a",{attrs:{href:"https://github.com/JeffVandrewJr/patron/blob/master/SSH.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("LunaNode example"),t("OutboundLink")],1),e._v(" with PuTTY.")]),e._v(" "),t("h3",{attrs:{id:"how-to-see-as-an-admin-whats-running-on-my-btcpay-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-see-as-an-admin-whats-running-on-my-btcpay-server"}},[e._v("#")]),e._v(" How to see, as an admin, what's running on my BTCPay Server?")]),e._v(" "),t("p",[e._v("You need to SSH into your BTCPay Server, and run a single line to see the list of "),t("code",[e._v("apps")]),e._v(" in the system:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker exec -ti $(docker ps -a -q -f "name=postgres_1") psql -U postgres -d btcpayservermainnet -c \'select "Name" from "Apps";\'\n')])])]),t("p",[e._v("This to see the list of "),t("code",[e._v("stores")]),e._v(" and their websites:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker exec -ti $(docker ps -a -q -f "name=postgres_1") psql -U postgres -d btcpayservermainnet -c \'select "StoreName","StoreWebsite" from "Stores";\'\n')])])]),t("p",[e._v("You can also run this to see the users list:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker exec -ti $(docker ps -a -q -f "name=postgres_1") psql -U postgres -d btcpayservermainnet -c \'select "Id", "Email" from "AspNetUsers";\'\n')])])]),t("h3",{attrs:{id:"how-can-i-see-my-btcpay-server-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-can-i-see-my-btcpay-server-version"}},[e._v("#")]),e._v(" How can I see my BTCPay Server version?")]),e._v(" "),t("p",[e._v("You can see your BTCPay Server version in the "),t("strong",[e._v("bottom right of the page footer")]),e._v(" when you're logged in as a server admin.")]),e._v(" "),t("p",[e._v("Deployments using v1.0.5.7 and later will automatically receive notifications to alert when a new BTCPay Server version has been released.")]),e._v(" "),t("figure",[t("img",{attrs:{src:a(488),alt:"Version",title:"Version"}})]),e._v(" "),t("p",[e._v("Note: This feature will automatically set the "),t("code",[e._v("BTCPAY_UPDATEURL")]),e._v(" environment variable in the BTCPay Server container to make a single daily request to "),t("a",{attrs:{href:"https://api.github.com/repos/btcpayserver/btcpayserver/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[e._v("this Github endpoint"),t("OutboundLink")],1),e._v(". Server admins can disable these notifications by disabling the policy in Server Settings > Policies > Check releases on GitHub.")]),e._v(" "),t("h3",{attrs:{id:"how-can-i-check-my-btcpay-server-version-via-terminal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-can-i-check-my-btcpay-server-version-via-terminal"}},[e._v("#")]),e._v(" How can I check my BTCPay Server version via terminal?")]),e._v(" "),t("p",[e._v("In the btcpayserver-docker folder: "),t("code",[e._v("bitcoin-cli.sh getnetworkinfo")])]),e._v(" "),t("h3",{attrs:{id:"what-is-btcpay-ssh-key-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-is-btcpay-ssh-key-file"}},[e._v("#")]),e._v(" What is BTCPay SSH key file?")]),e._v(" "),t("p",[e._v("BTCPay SSH key, enables users to update their server or quickly change the domain name from btcpay website, via the user interface.")]),e._v(" "),t("h3",{attrs:{id:"forgot-btcpay-admin-password"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#forgot-btcpay-admin-password"}},[e._v("#")]),e._v(" Forgot BTCPay Admin password?")]),e._v(" "),t("p",[e._v('First, register a new user on your BTCPay Server, by clicking "Register", for example: "newadmin@example.com".')]),e._v(" "),t("p",[e._v("If you can't create a new user because registrations are disabled in your Server Settings > Policies, you need to reset the policies settings. Please skip this step if you can create a new user on the front-end home page using the register button. Run the following command (It also deletes any other server settings currently being used):")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# In root")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BTCPAY_BASE_DIRECTORY")]),e._v("/btcpayserver-docker/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Re-open registrations")]),e._v("\n./btcpay-admin.sh reset-server-policy\n")])])]),t("p",[e._v("Head back to your BTCPay Server and click on the \"Register\" button which should now be enabled. In case you don't see the Register link in the menu, that's probably because of the caching. Restart your btcpay with "),t("code",[e._v("btcpay-restart.sh")]),e._v(".")]),e._v(" "),t("p",[e._v("Next, add the newly registered user "),t("code",[e._v("newadmin@example.com")]),e._v(" as an admin:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Set new user as admin")]),e._v("\n./btcpay-admin.sh set-user-admin newadmin@example.com\n")])])]),t("p",[e._v("Now you can access using "),t("code",[e._v("newadmin@example.com")]),e._v(" as admin.")]),e._v(" "),t("p",[e._v("After applying the changes, you’ll notice the newly created admin user isn't automatically added to any stores. If your BTCPayServer version is 2.0 or newer, you can manually add the new server admin to the stores. For older versions of BTCPayServer, you can regain access to the old server admin account (and thus stores) by either configuring SMTP to send a password reset email or by using the "),t("a",{attrs:{href:"https://github.com/rockstardev/BTCPayServerPlugins.RockstarDev/tree/master/Plugins/BTCPayServer.RockstarDev.Plugins.AdminPassReset",target:"_blank",rel:"noopener noreferrer"}},[t("strong",[e._v("Admin Pass Reset")]),e._v(" plugin from R0ckstar Dev"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"how-to-add-a-new-user-by-invite"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-add-a-new-user-by-invite"}},[e._v("#")]),e._v(" How to add a new user by invite?")]),e._v(" "),t("p",[e._v("Server admins can add new users by creating an invite link to share with them. This can allow admins to disable public registration on the server, or to invite specific users by clicking: Server Settings > Add User (do not provide password) > Create account")]),e._v(" "),t("figure",[t("img",{attrs:{src:a(489),alt:"Invite User",title:"Invite User"}})]),e._v(" "),t("p",[e._v("A shareable link will be displayed for the server admin to distribute. An email will be sent (if email is "),t("a",{attrs:{href:"#how-to-configure-smtp-settings-in-btcpay"}},[e._v("configured on the server")]),e._v(" to set the password. The new user will create a password upon first visit to the invite link.")]),e._v(" "),t("h3",{attrs:{id:"how-to-disable-u2f-and-2fa-for-a-user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-disable-u2f-and-2fa-for-a-user"}},[e._v("#")]),e._v(" How to disable U2F and 2FA for a user?")]),e._v(" "),t("p",[e._v("Remove U2F and 2FA settings for a registered user, for example "),t("code",[e._v("user@example.com")]),e._v(" with the following commands:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# In root")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BTCPAY_BASE_DIRECTORY")]),e._v("/btcpayserver-docker/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Disable U2F and 2FA")]),e._v("\n./btcpay-admin.sh disable-multifactor user@example.com\n")])])]),t("h3",{attrs:{id:"how-to-configure-smtp-settings-in-btcpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-smtp-settings-in-btcpay"}},[e._v("#")]),e._v(" How to configure SMTP settings in BTCPay?")]),e._v(" "),t("p",[e._v("SMTP can be configured in settings for each store. It can also be configured for the entire server if you have admin privileges.")]),e._v(" "),t("p",[e._v("Each e-mail provider has different configuration, so we can't provide you with exact setup, but here's the configuration for gmail:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("SMTP Host: smtp.gmail.com\nSMTP Port: 587\nSSL Protocol: ON\nTLS Protocol: ON\nSMTP Username: (your Gmail username)\nSMTP Password: (your Gmail password)\n")])])]),t("p",[e._v("For gmail it's important to allow access from less secure apps. To enable go to: Manage Your Google Account > Security > Allow Less Secure Apps (On). Also note Google may automatically turn off this setting if it’s not being used. If your smtp has stopped working, check this setting is not off.")]),e._v(" "),t("p",[e._v("If by any chance you have 2-step verification added to your gmail account, "),t("a",{attrs:{href:"https://support.google.com/mail/answer/185833",target:"_blank",rel:"noopener noreferrer"}},[e._v("visit this article"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Use the test email feature in BTCPay to verify your emails are being sent properly. If you are seeking a more reliable smtp service for your business needs, consider using a dedicated mail service like Mailgun.")]),e._v(" "),t("p",[e._v("Maintenance feature requires access to SSH properly configured in BTCPayServer configuration")]),e._v(" "),t("h3",{attrs:{id:"error-maintenance-feature-requires-access-to-ssh-properly-configured-in-btcpayserver-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-maintenance-feature-requires-access-to-ssh-properly-configured-in-btcpayserver-configuration"}},[e._v("#")]),e._v(" Error: Maintenance feature requires access to SSH properly configured in BTCPayServer configuration")]),e._v(" "),t("p",[e._v("Sometimes an issue with Docker can temporarily cause your BTCPay Server's maintenance features to be misconfigured. This issue is typically fixed by restarting your BTCPay Server. Unfortunately when this error appears in the interface, the restart button will be disabled. You will need to "),t("RouterLink",{attrs:{to:"/FAQ/FAQ-ServerSettings/#how-to-restart-btcpay-server"}},[e._v("restart using ssh")]),e._v(" to resolve the issue.")],1),e._v(" "),t("h3",{attrs:{id:"error-your-local-changes-to-the-following-files-would-be-overwritten-by-merge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-your-local-changes-to-the-following-files-would-be-overwritten-by-merge"}},[e._v("#")]),e._v(" Error: Your local changes to the following files would be overwritten by merge")]),e._v(" "),t("p",[e._v("Sometimes, an accidentally edited file can break the update mechanism with the following error:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("error: Your "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("local")]),e._v(" changes to the following files would be overwritten by merge:\n")])])]),t("p",[e._v("To fix the this, "),t("a",{attrs:{href:"#how-to-ssh-into-my-btcpay-running-on-vps"}},[e._v("ssh into your server")]),e._v(" and run the following commands:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" btcpayserver-docker\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" reset "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--hard")]),e._v(" origin/master\n")])])]),t("h3",{attrs:{id:"error-btcpay-sshkeyfile-is-not-set-when-running-the-docker-install-or-unable-to-update-through-server-settings-maintenance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-btcpay-sshkeyfile-is-not-set-when-running-the-docker-install-or-unable-to-update-through-server-settings-maintenance"}},[e._v("#")]),e._v(" Error: BTCPAY_SSHKEYFILE is not set when running the docker install, or unable to update through Server Settings / Maintenance")]),e._v(" "),t("p",[e._v("You may see such the following message when you run your docker-compose (either via "),t("code",[e._v("btcpay-up.sh")]),e._v(" or "),t("code",[e._v("btcpay-setup.sh")]),e._v("):")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("WARNING: The BTCPAY_SSHKEYFILE variable is not set. Defaulting to a blank string.\nWARNING: The BTCPAY_SSHTRUSTEDFINGERPRINTS variable is not set. Defaulting to a blank string.\n")])])]),t("p",[t("code",[e._v("BTCPay Server")]),e._v(" requires SSH access, to allow you to perform the following tasks from the front-end:")]),e._v(" "),t("ul",[t("li",[e._v("Updating the server")]),e._v(" "),t("li",[e._v("Changing the domain name of the server")])]),e._v(" "),t("p",[e._v("You can run the following command line to give access to BTCPay to your server via SSH.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Checkout latest BTCPay Server version")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BTCPAY_BASE_DIRECTORY")]),e._v("/btcpayserver-docker\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" tag "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--sort")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-version:refname")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("awk")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'match($0, /^v[0-9]+\\.[0-9]+\\.[0-9]+$/)'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("head")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Setup SSH access via private key")]),e._v("\nssh-keygen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" rsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" /root/.ssh/id_rsa_btcpay "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-q")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-P")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" PEM\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"# Key used by BTCPay Server"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" /root/.ssh/authorized_keys\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /root/.ssh/id_rsa_btcpay.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" /root/.ssh/authorized_keys\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("BTCPAY_HOST_SSHKEYFILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/root/.ssh/id_rsa_btcpay\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" ./btcpay-setup.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v("\n")])])]),t("h2",{attrs:{id:"theme-customization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#theme-customization"}},[e._v("#")]),e._v(" Theme / Customization")]),e._v(" "),t("h3",{attrs:{id:"how-to-customize-my-btcpay-theme-style"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-customize-my-btcpay-theme-style"}},[e._v("#")]),e._v(" How to customize my BTCPay theme style?")]),e._v(" "),t("p",[e._v("There are two ways to customize the theme of your BTCPay.\nThe easy way is to choose or provide custom theme preferences in your BTCPay as explained in the "),t("RouterLink",{attrs:{to:"/Development/Theme/"}},[e._v("Theme documentation")]),e._v(".")],1),e._v(" "),t("p",[e._v("For advanced theme changes, you'll most likely need to fork BTCPay repository and apply desired design changes. Build and publish the docker image to Docker Hub. Set the "),t("code",[e._v("BTCPAY_IMAGE")]),e._v(" environment variable to your docker image tag("),t("code",[e._v('export BTCPAY_IMAGE="your custom btcpay docker image"')]),e._v(") and run the setup ("),t("code",[e._v(". ./btcpay-setup.sh -i")]),e._v(") as usual from "),t("a",{attrs:{href:"https://github.com/btcpayserver/btcpayserver-docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("BTCPay Docker"),t("OutboundLink")],1),e._v(". Modify generated docker compose to use your custom docker image.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("A forked BTCPay Server will need to create a new image manually and follow these steps for EACH BTCPay update so it is advised to stick with the default setup and theme options.")])]),e._v(" "),t("h3",{attrs:{id:"how-to-modify-the-checkout-page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-modify-the-checkout-page"}},[e._v("#")]),e._v(" How to modify the checkout page?")]),e._v(" "),t("p",[e._v("You can easily change the appearance of your BTCPay's checkout page by following the "),t("RouterLink",{attrs:{to:"/Development/Theme/#checkout-page-theme"}},[e._v("instructions here")])],1),e._v(" "),t("h3",{attrs:{id:"how-to-add-google-analytics-code-to-btcpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-add-google-analytics-code-to-btcpay"}},[e._v("#")]),e._v(" How to add Google Analytics code to BTCPay?")]),e._v(" "),t("p",[e._v("You should be able to do what you want by injecting your GA code to "),t("code",[e._v("~/wwwroot/checkout/js/core.js.")]),e._v(" This might be the easiest way but you have to redo it every time you update BTCPay to the latest version. Then you won’t have the hassle of forking the code, deploying it manually. Every time there is an update. Just do the docker update and add the same lines to the .js file.")]),e._v(" "),t("h2",{attrs:{id:"policies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#policies"}},[e._v("#")]),e._v(" Policies")]),e._v(" "),t("h3",{attrs:{id:"how-to-allow-registration-on-my-btcpay-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-allow-registration-on-my-btcpay-server"}},[e._v("#")]),e._v(" How to allow registration on my BTCPay Server?")]),e._v(" "),t("p",[e._v("To allow other users to register and use your server, in Server Settings > Policies enable registration. If you "),t("RouterLink",{attrs:{to:"/FAQ/FAQ-ServerSettings/#how-to-configure-smtp-settings-in-btcpay"}},[e._v("configured SMTP properly")]),e._v(", you can request users to provide e-mail confirmation to prevent spam or bots from registering on your instance.")],1),e._v(" "),t("h3",{attrs:{id:"how-to-hide-my-btcpay-server-from-search-engines"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-hide-my-btcpay-server-from-search-engines"}},[e._v("#")]),e._v(" How to hide my BTCPay Server from Search Engines?")]),e._v(" "),t("p",[e._v("Discouraging search engines from indexing your site in Server Settings > Policies, adds "),t("code",[e._v('<meta name="robots" content="noindex">')]),e._v(" to your server header, which informs search engines not to index your pages.")]),e._v(" "),t("p",[e._v("It is up to search engines to honor this request, and may take time for your pages to disappear completely. Unfortunately, the exact time is beyond our control, it depends on crawl bots of the particular search engine like Google.")]),e._v(" "),t("h2",{attrs:{id:"services"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#services"}},[e._v("#")]),e._v(" Services")]),e._v(" "),t("h3",{attrs:{id:"how-to-remotely-connect-to-my-btcpay-full-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-remotely-connect-to-my-btcpay-full-node"}},[e._v("#")]),e._v(" How to remotely connect to my BTCPay full node?")]),e._v(" "),t("p",[e._v("If you're using an external wallet which allows BTC-P2P connection, you can easily connect it to your BTCPay full node. By doing this, you avoid leaking information to third-party servers and are solely relying on your own full node.\nTo connect to a compatible BTC-P2P wallet, go to "),t("strong",[e._v("Server Settings > Services > Full node P2P")]),e._v(" Reveal the QR code and scan it with a BTC-P2P compatible wallet, or input it by copy-pasting it.")]),e._v(" "),t("figure",[t("img",{attrs:{src:a(490),alt:"BTC-P2P",title:"BTC-P2P"}})]),e._v(" "),t("p",[e._v("If you do not see Full node P2P in your Services, you probably have to "),t("RouterLink",{attrs:{to:"/FAQ/FAQ-Deployment/#how-do-i-activate-tor-on-my-btcpay-server"}},[e._v("activate Tor on your server")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#files"}},[e._v("#")]),e._v(" Files")]),e._v(" "),t("h3",{attrs:{id:"how-to-upload-files-to-btcpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-upload-files-to-btcpay"}},[e._v("#")]),e._v(" How to upload files to BTCPay?")]),e._v(" "),t("p",[e._v("To upload files to your BTCPay Server instance, first under Server Settings > Services, enable the External Storage feature and choose which storage service provider you would like to use. Next, go to Server Settings > Files to browse and upload local files. Depending on the limitations of your storage system, you may have difficulty uploading large files.")])])}),[],!1,null,null,null);t.default=r.exports}}]);