(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{527:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_payment-methods.1866492d.png"},528:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_product-country-restriction.ff019291.png"},529:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_free-shipping-flat-rate-config.a44613b2.png"},530:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_free-shipping-product-setting.fb4e21ad.png"},531:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_limit-payment-methods-rules.758c918f.png"},532:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_payment-method-discount.7ef59307.png"},533:function(t,e,a){t.exports=a.p+"assets/img/woocommerce_at_product_promotion_tag.8c2de7e7.png"},742:function(t,e,a){"use strict";a.r(e);var s=a(35),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"integrations-faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#integrations-faq"}},[t._v("#")]),t._v(" Integrations FAQ")]),t._v(" "),s("p",[t._v("This page covers questions about BTCPay integrations.")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#general-integrations-faq"}},[t._v("General Integrations FAQ")]),s("ul",[s("li",[s("a",{attrs:{href:"#what-e-commerce-integrations-are-available"}},[t._v("What e-commerce integrations are available?")])]),s("li",[s("a",{attrs:{href:"#how-to-use-woocommerce-store-with-btcpay"}},[t._v("How to use WooCommerce store with BTCPay?")])]),s("li",[s("a",{attrs:{href:"#how-to-use-btcpay-with-drupal"}},[t._v("How to use BTCPay with Drupal?")])]),s("li",[s("a",{attrs:{href:"#how-to-use-btcpay-with-prestashop"}},[t._v("How to use BTCPay with Prestashop?")])]),s("li",[s("a",{attrs:{href:"#does-btcpay-have-a-shopify-plugin"}},[t._v("Does BTCPay have a Shopify plugin?")])]),s("li",[s("a",{attrs:{href:"#can-i-use-btcpay-without-an-integration"}},[t._v("Can I use BTCPay without an integration?")])])])]),s("li",[s("a",{attrs:{href:"#woocommerce-faq"}},[t._v("WooCommerce FAQ")]),s("ul",[s("li",[s("a",{attrs:{href:"#how-to-configure-order-status-in-woocommerce"}},[t._v("How to configure order status in WooCommerce?")])]),s("li",[s("a",{attrs:{href:"#how-to-customize-e-mail-confirmations-in-woocommerce"}},[t._v("How to customize e-mail confirmations in WooCommerce?")])]),s("li",[s("a",{attrs:{href:"#error-if-you-use-an-alternative-order-numbering-system-please-see-class-wc-gateway-btcpayphp-to-apply-a-search-filter"}},[t._v("Error: If you use an alternative order numbering system, please see class-wc-gateway-btcpay.php to apply a search filter")])]),s("li",[s("a",{attrs:{href:"#how-to-configure-additional-token-support"}},[t._v("How to configure Additional Token Support")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"general-integrations-faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#general-integrations-faq"}},[t._v("#")]),t._v(" General Integrations FAQ")]),t._v(" "),s("h3",{attrs:{id:"what-e-commerce-integrations-are-available"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-e-commerce-integrations-are-available"}},[t._v("#")]),t._v(" What e-commerce integrations are available?")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/WooCommerce/"}},[t._v("WooCommerce")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/Drupal/"}},[t._v("Drupal")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/Magento/"}},[t._v("Magento")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/PrestaShop/"}},[t._v("PrestaShop")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/CustomIntegration/"}},[t._v("Custom Integration")])],1)]),t._v(" "),s("p",[t._v("If you're a developer, you can develop your own integration, by following the "),s("RouterLink",{attrs:{to:"/CustomIntegration/"}},[t._v("custom integration instructions")]),t._v(".")],1),t._v(" "),s("h3",{attrs:{id:"how-to-use-woocommerce-store-with-btcpay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-woocommerce-store-with-btcpay"}},[t._v("#")]),t._v(" How to use WooCommerce store with BTCPay?")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=tTH3nLoyTcw",target:"_blank",rel:"noopener noreferrer"}},[t._v("BTCPay and WooCommerce"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=6QcTWHRKZag",target:"_blank",rel:"noopener noreferrer"}},[t._v("BTCPay WordPress plugin installation"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=IT2K8It3S3o",target:"_blank",rel:"noopener noreferrer"}},[t._v("Connecting your store to a third-party BTCPay host"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=xX6LyQej0NQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("Connect your wallet to BTCPay"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=Fi3pYpzGmmo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Test your store checkout when you finish with the setup"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"how-to-use-btcpay-with-drupal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-btcpay-with-drupal"}},[t._v("#")]),t._v(" How to use BTCPay with Drupal?")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/btcpayserver/commerce_btcpay#installation-and-configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("BTCPay and Drupal installation and configuration"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://youtube.com/watch?v=XBZwyC2v48s",target:"_blank",rel:"noopener noreferrer"}},[t._v("Drupal Commerce BTCPay module installation walkthrough"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"how-to-use-btcpay-with-prestashop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-btcpay-with-prestashop"}},[t._v("#")]),t._v(" How to use BTCPay with Prestashop?")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/PrestaShop/"}},[t._v("Using the BTCPay plugin for Prestashop")])],1)]),t._v(" "),s("h3",{attrs:{id:"does-btcpay-have-a-shopify-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-btcpay-have-a-shopify-plugin"}},[t._v("#")]),t._v(" Does BTCPay have a Shopify plugin?")]),t._v(" "),s("p",[t._v("Yes, there is a BTCPay and Shopify integration. To get started, check out our "),s("RouterLink",{attrs:{to:"/Shopify/"}},[t._v("Shopify Integration Guide")])],1),t._v(" "),s("h3",{attrs:{id:"can-i-use-btcpay-without-an-integration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-i-use-btcpay-without-an-integration"}},[t._v("#")]),t._v(" Can I use BTCPay without an integration?")]),t._v(" "),s("p",[t._v("Yes, you can. While various e-commerce CMS use integrations,  you can use BTCPay even if you're not a merchant. For more information about use-cases, see "),s("RouterLink",{attrs:{to:"/UseCase/"}},[t._v("this page")])],1),t._v(" "),s("h2",{attrs:{id:"woocommerce-faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#woocommerce-faq"}},[t._v("#")]),t._v(" WooCommerce FAQ")]),t._v(" "),s("h3",{attrs:{id:"how-to-configure-order-status-in-woocommerce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-order-status-in-woocommerce"}},[t._v("#")]),t._v(" How to configure order status in WooCommerce?")]),t._v(" "),s("p",[t._v("Order status depends on a merchant's business model. To better understand BTCPay order (invoice) status "),s("RouterLink",{attrs:{to:"/WooCommerce/#btcpay-order-statuses"}},[t._v("read this document")]),t._v(".\nThere's no best way to configure them without trial and error and seeing what works for your business.")],1),t._v(" "),s("h3",{attrs:{id:"how-to-customize-e-mail-confirmations-in-woocommerce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-customize-e-mail-confirmations-in-woocommerce"}},[t._v("#")]),t._v(" How to customize e-mail confirmations in WooCommerce?")]),t._v(" "),s("p",[t._v("If you wish to send an e-mail after a certain status to the customer, you need to edit WooCommerce order e-mail templates. This is recommended only if you know what you're doing. "),s("a",{attrs:{href:"https://www.cloudways.com/blog/how-to-customize-woocommerce-order-emails/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Check out this guide"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"error-if-you-use-an-alternative-order-numbering-system-please-see-class-wc-gateway-btcpayphp-to-apply-a-search-filter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-if-you-use-an-alternative-order-numbering-system-please-see-class-wc-gateway-btcpayphp-to-apply-a-search-filter"}},[t._v("#")]),t._v(" Error: If you use an alternative order numbering system, please see class-wc-gateway-btcpay.php to apply a search filter")]),t._v(" "),s("p",[t._v("If by any chance you use a different order numbering than standard in WooCommerce, the following error may appear in your BTCPay WooCommerce plugin logs:")]),t._v(" "),s("blockquote",[s("p",[t._v('[Error] The BTCPay payment plugin was called to process an IPN message but could not retrieve the order details for order_id: "ON123". If you use an alternative order numbering system, please see class-wc-gateway-btcpay.php to apply a search filter.')])]),t._v(" "),s("p",[t._v("Paste the following code at the bottom of your child theme's "),s("strong",[t._v("functions.php")]),t._v(" file:")]),t._v(" "),s("details",[s("summary",[t._v("Click to view code snippet")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("get_order_id_from_custom_order_style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$orderid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("is_string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$orderid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preg_replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'~\\D~'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$orderid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$orderid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'woocommerce_order_id_from_number'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'get_order_id_from_custom_order_style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("h3",{attrs:{id:"how-to-configure-additional-token-support"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-additional-token-support"}},[t._v("#")]),t._v(" How to configure Additional Token Support")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("The Wordpress and Woocommerce plugins used in this integration are neither endorsed nor have they been thoroughly verified or vetted by the BTCPay Server team. Use them at your own risks.")])]),t._v(" "),s("p",[t._v("With using the additional token configuration you will be able to have separate payment methods for each configured Currency, Asset, Altcoin or Token. This means you can have separate payment methods for BTC, Lightning Network, LTC, ETH (and ERC20 tokens), Liquid assets, ... you name it. This allows you to issue and use Liquid Assets as coupons or vouchers, see more details below.")]),t._v(" "),s("h4",{attrs:{id:"use-cases"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-cases"}},[t._v("#")]),t._v(" Use cases")]),t._v(" "),s("ul",[s("li",[t._v("give away products for free via promotional tokens")]),t._v(" "),s("li",[t._v("allow discounts for certain payment methods (tokens)")]),t._v(" "),s("li",[t._v("restrict products to certain payment methods (tokens)")]),t._v(" "),s("li",[t._v("restrict payment methods (tokens) on shipping zones")]),t._v(" "),s("li",[t._v("and many more, see examples below")])]),t._v(" "),s("h4",{attrs:{id:"requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),s("ul",[s("li",[t._v("all tokens you configure on the WooCommerce side need to be available in your store on BTCPay Server side")]),t._v(" "),s("li",[t._v("to use promotional tokens you need to have "),s("a",{attrs:{href:"https://github.com/btcpayserver/btcpayserver-plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("Liquid Assets plugin"),s("OutboundLink")],1),t._v(" installed on BTCPay Server")])]),t._v(" "),s("h4",{attrs:{id:"token-types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#token-types"}},[t._v("#")]),t._v(" Token types")]),t._v(" "),s("h5",{attrs:{id:"payment-tokens"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payment-tokens"}},[t._v("#")]),t._v(" Payment tokens")]),t._v(" "),s("p",[t._v("Payment tokens are what is supported by BTCPay Server out of the box (BTC, Lightning Network, LTC, XMR, etc.). They are used as normal payment currency converted by the current exchange rate vs the fiat currency of your shop.")]),t._v(" "),s("h5",{attrs:{id:"promotional-tokens-100-discount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promotional-tokens-100-discount"}},[t._v("#")]),t._v(" Promotional tokens (100% discount)")]),t._v(" "),s("p",[t._v("With the introduction of above mentioned Liquid Assets plugin you now also have the possibility to accept "),s("strong",[t._v("promotional tokens")]),t._v(". You can think of them like coupons or vouchers that can be used to redeem a product/gift. They are special in the sense that they do not have decimals and you need to always pay 1 token per quantity of a product.")]),t._v(" "),s("p",[t._v("You as a store owner can "),s("a",{attrs:{href:"https://docs.blockstream.com/liquid/developer-guide/developer-guide-index.html#issued-assets",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue your own Liquid assets"),s("OutboundLink")],1),t._v(" for this purpose or accept "),s("a",{attrs:{href:"https://blockstream.info/liquid/assets",target:"_blank",rel:"noopener noreferrer"}},[t._v("existing ones"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),s("p",[t._v("Make sure the tokens you will configure on your WooCommerce store are available and properly configured on your BTCPay Server, otherwise you will get errors on invoice creation during the checkout process. This will change in the future when we have a new woocommerce plugin that directly fetches the needed data via the Greenfield API but for now the data needs to be entered in some comma separated value (CSV) style.")]),t._v(" "),s("h5",{attrs:{id:"preparation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preparation"}},[t._v("#")]),t._v(" Preparation")]),t._v(" "),s("p",[t._v("Make sure to have the latest woocommerce plugin installed.")]),t._v(" "),s("h5",{attrs:{id:"setup-your-additional-tokens"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup-your-additional-tokens"}},[t._v("#")]),t._v(" Setup your additional tokens")]),t._v(" "),s("h6",{attrs:{id:"setting-additional-token-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-additional-token-configuration"}},[t._v("#")]),t._v(" Setting: Additional token configuration")]),t._v(" "),s("p",[t._v("In the BTCPay payment method settings you have a new setting "),s("strong",[t._v("“Additional token configuration”")]),t._v(" where you can input the token configuration in a specific CSV format of 4 columns.")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("token symbol")]),t._v(":\nImportant: this needs to match the symbol on BTCPay Server, e.g. BTC,")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("display name")]),t._v(":\nThe visible text for the payment method on checkout")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("type")]),t._v(":\nthis can be “"),s("strong",[t._v("payment")]),t._v("” or “"),s("strong",[t._v("promotion")]),t._v("” "),s("a",{attrs:{href:"#token-types"}},[t._v("see explanation above")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("token icon (optional)")]),t._v(":\nurl to token symbol shown during checkout (can be empty but be sure to include the quotes). You can upload the icon in media manager and copy the url or you can use a link to external site or CDN.")])])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("DANGER")]),t._v(" "),s("p",[s("strong",[t._v("Important:")]),t._v(" All the columns text needs to be enclosed by double quotes "),s("code",[t._v('"')]),t._v(" and separated by semicolon `; each asset has to be put in a new line.")])]),t._v(" "),s("p",[s("strong",[t._v("Example additional token config")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"BTC_OFFCHAIN";"Lightning BTC";"payment";""\n"USDt";"USDt (Liquid Theter)";"payment";"https://example.com/wp-content/uploads/2021/01/usdt.png"\n"eKr";"eKrona (Liquid Asset)";"promotion";""\n')])])]),s("p",[t._v("After saving you will see each asset to be available as payment method. You can enable/disable them like any other payment method. They won’t have any settings itself for now though (everything is configured by the CSV data). But you can use them together with e.g. woocommerce payment plugins to allow discounts for certain payment methods etc.")]),t._v(" "),s("figure",[s("img",{attrs:{src:a(527),alt:"Each additional additional token available as payment token"}})]),t._v(" "),s("h6",{attrs:{id:"setting-additional-tokens-enforce-payment-tokens"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-additional-tokens-enforce-payment-tokens"}},[t._v("#")]),t._v(" Setting: Additional tokens: Enforce payment tokens")]),t._v(" "),s("p",[t._v("The default payment method of BTCPay Server (Bitcoin) will "),s("strong",[t._v("not")]),t._v(' enforce any configured Currency, Asset, Altcoin or Token. This means when you have the default payment method "Bitcoin" enabled the user can select all the configured Currency, Asset, Altcoin or Tokens (which have an exchange rate) on the BTCPay Server payment page. You may not want this but enforce/limit which payment options will be available. By selecting this checkbox only the Currency, Asset, Altcoin or Tokens of type "payment" listed in the setting '),s("a",{attrs:{href:"#setting-additional-token-configuration"}},[t._v("Setting: Additional token configuration")])]),t._v(" "),s("h4",{attrs:{id:"common-woocommerce-use-cases-using-the-additional-token-support-feature"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#common-woocommerce-use-cases-using-the-additional-token-support-feature"}},[t._v("#")]),t._v(" Common WooCommerce use-cases using the Additional Token Support feature")]),t._v(" "),s("h5",{attrs:{id:"use-case-1-limit-product-to-a-regionshipping-zone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-1-limit-product-to-a-regionshipping-zone"}},[t._v("#")]),t._v(" Use-case 1: limit product to a region/shipping zone")]),t._v(" "),s("p",[t._v("Free plugin used: "),s("a",{attrs:{href:"https://wordpress.org/plugins/woo-product-country-base-restrictions/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Country Based Restrictions for WooCommerce"),s("OutboundLink")],1),t._v("\nAfter installing and activating the plugin go to a product in “Product data” block there is a new tab “Country restrictions”. You can configure the restrictions you want there.")]),t._v(" "),s("p",[t._v("Example configuration:\n"),s("img",{attrs:{src:a(528),alt:"Product restricted to US only"}})]),t._v(" "),s("h5",{attrs:{id:"use-case-2-promotion-products-should-have-free-shipping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-2-promotion-products-should-have-free-shipping"}},[t._v("#")]),t._v(" Use-case 2: (Promotion) products should have free shipping")]),t._v(" "),s("p",[t._v("This adds the ability to offer free shipping when a customer pays with a selected Currency, Asset, Altcoin or Token.\nThis is doable with woocommerce out of the box (no plugins needed):")]),t._v(" "),s("ol",[s("li",[t._v("In shipping settings add a new shipping class e.g. “free-shipping”")]),t._v(" "),s("li",[t._v("On your shipping zones / shipping method config you need to make sure you set the rate to be 0 for that shipping class but also that “cost” is empty or 0. And your “no shipping class cost” is set to the normal rate (using flat-rate as example):\n"),s("img",{attrs:{src:a(529),alt:"Flat rate, free shipping example configuration"}})]),t._v(" "),s("li",[t._v('In product settings "Product data" block you have a tab "Shipping", there you set the above created "Free-shipping" class and it will taken care during checkout.\n'),s("img",{attrs:{src:a(530),alt:"Free shipping class set on product settings"}})])]),t._v(" "),s("h5",{attrs:{id:"use-case-3-limit-product-payment-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-3-limit-product-payment-methods"}},[t._v("#")]),t._v(" Use-case 3: limit product payment methods")]),t._v(" "),s("p",[t._v("E.g. allow only a certain Currency, Asset, Altcoin or Token to be used as payment for promotional product(s)")]),t._v(" "),s("p",[t._v("Free plugin used: "),s("a",{attrs:{href:"https://wordpress.org/plugins/conditional-payments-for-woocommerce/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conditional Payments for WooCommerce"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("This plugin provides a condition rules builder where you can enable/disable available payment methods for products. See example config in the screenshot:\n"),s("img",{attrs:{src:a(531),alt:"Conditional payment rules overview"}})]),t._v(" "),s("h5",{attrs:{id:"use-case-4-discount-per-payment-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-4-discount-per-payment-method"}},[t._v("#")]),t._v(" Use-case 4: discount per payment method")]),t._v(" "),s("p",[t._v("Adds the ability to offer a discount when customer uses a selected Currency, Asset, Altcoin or Token as payment.")]),t._v(" "),s("p",[t._v("Free plugin used: "),s("a",{attrs:{href:"https://wordpress.org/plugins/woo-payment-discounts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Discounts Per Payment Method for WooCommerce"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("In the now available “Discount per Payment” setting in your WooCommerce settings you have a list of all payment methods and can give percentage or fixed discounts.")]),t._v(" "),s("figure",[s("img",{attrs:{src:a(532),alt:"Settings for discounts per available payment method"}})]),t._v(" "),s("h5",{attrs:{id:"use-case-5-make-sure-promotional-products-can-only-be-purchased-exclusively"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-5-make-sure-promotional-products-can-only-be-purchased-exclusively"}},[t._v("#")]),t._v(" Use-case 5: make sure promotional products can only be purchased exclusively")]),t._v(" "),s("p",[t._v("This is needed because payment methods based on a selected Currency, Asset, Altcoin or Token - used as promotional token - need to override the product price with 1 (per quantity) to allow users to pay with 1 promotion token per quantity. Otherwise, a user could mix normal products with promo products during checkout and pay both with the promotional tokens, which you want to avoid.")]),t._v(" "),s("p",[t._v("In product settings on the right sidebar you have “Product tags” enter a new tag “promotion”")]),t._v(" "),s("figure",[s("img",{attrs:{src:a(533),alt:"Product edit screen promotion tag set"}})]),t._v(" "),s("p",[t._v("Paste the following code at the bottom of your child theme's "),s("strong",[t._v("functions.php")]),t._v(" file:")]),t._v(" "),s("details",[s("summary",[t._v("Click to view code snippet")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n* Check if a product is tagged with "promotion" and show a notice that it only\n* can be ordered exclusively without any other products in the cart.\n*/')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("btcpay_check_promotion_product")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$valid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$product_id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quantity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$promotion_tag")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'promotion'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Check if there are any items in the cart.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("empty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cart_items")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("WC")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("cart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_cart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$valid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Check if the product is a promotional product and abort.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_term")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$promotion_tag")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'product_tag'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$product_id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc_add_notice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Promotional products can only be purchased exclusively, please remove other items from your cart first.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'error'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Also check the case where one has already a promotion product in the")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// cart and also do not allow adding a normal product in that case.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cart_items")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_term")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$promotion_tag")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'product_tag'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'product_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc_add_notice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Promotional products can only be purchased exclusively, please proceed with checkout or remove the item first.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'error'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$valid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'woocommerce_add_to_cart_validation'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'btcpay_check_promotion_product'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("h5",{attrs:{id:"use-case-6-limit-the-checkout-of-only-1-piece-of-a-product"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-case-6-limit-the-checkout-of-only-1-piece-of-a-product"}},[t._v("#")]),t._v(" Use-case 6: Limit the checkout of only 1 piece of a product")]),t._v(" "),s("p",[t._v("Adds the ability to limit the number of a Currency, Asset, Altcoin or Token that can be spent by a customer in a single checkout.")]),t._v(" "),s("p",[t._v("Useful for coupon-style promotions that are limited to one discount per checkout.")]),t._v(" "),s("p",[t._v("This is also solved already by WooCommerce. You can activate this on a per product level in Product settings: Tab “"),s("strong",[t._v("Inventory")]),t._v("”:\nset the checkbox [x] “"),s("em",[t._v("Enable this to only allow one of this item to be bought in a single order")]),t._v("”")])])}),[],!1,null,null,null);e.default=o.exports}}]);