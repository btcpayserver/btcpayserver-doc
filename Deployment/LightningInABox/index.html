<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hardware Deployment | BTCPay Server</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="/styles/btcpayserver-variables.css">
    <meta name="description" content="BTCPay Server Official Documentation">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.5d7f2299.css" as="style"><link rel="preload" href="/assets/js/app.77e89f6e.js" as="script"><link rel="preload" href="/assets/js/2.9e7169ce.js" as="script"><link rel="preload" href="/assets/js/120.bdc4e2b4.js" as="script"><link rel="prefetch" href="/assets/js/1.1193f6d3.js"><link rel="prefetch" href="/assets/js/100.e9321f96.js"><link rel="prefetch" href="/assets/js/101.084731b9.js"><link rel="prefetch" href="/assets/js/102.f565a1ad.js"><link rel="prefetch" href="/assets/js/103.aa9a1abd.js"><link rel="prefetch" href="/assets/js/104.76534f0d.js"><link rel="prefetch" href="/assets/js/105.0700e276.js"><link rel="prefetch" href="/assets/js/106.bf68c657.js"><link rel="prefetch" href="/assets/js/107.fc2b07a8.js"><link rel="prefetch" href="/assets/js/108.42bfa7a7.js"><link rel="prefetch" href="/assets/js/109.76b9ac99.js"><link rel="prefetch" href="/assets/js/110.eb035bcc.js"><link rel="prefetch" href="/assets/js/111.03e61d59.js"><link rel="prefetch" href="/assets/js/112.6b6b9f1c.js"><link rel="prefetch" href="/assets/js/113.601d9b22.js"><link rel="prefetch" href="/assets/js/114.48dd285c.js"><link rel="prefetch" href="/assets/js/115.1fa6a732.js"><link rel="prefetch" href="/assets/js/116.2d4c0143.js"><link rel="prefetch" href="/assets/js/117.a307ed02.js"><link rel="prefetch" href="/assets/js/118.d2ccb13e.js"><link rel="prefetch" href="/assets/js/119.cefc653d.js"><link rel="prefetch" href="/assets/js/12.6720632f.js"><link rel="prefetch" href="/assets/js/121.a01e9cf0.js"><link rel="prefetch" href="/assets/js/122.e91fbe52.js"><link rel="prefetch" href="/assets/js/123.6c9ee155.js"><link rel="prefetch" href="/assets/js/124.2e6b2993.js"><link rel="prefetch" href="/assets/js/125.7cde67d2.js"><link rel="prefetch" href="/assets/js/126.7a8d29fa.js"><link rel="prefetch" href="/assets/js/127.1dc1a134.js"><link rel="prefetch" href="/assets/js/128.7a1dc595.js"><link rel="prefetch" href="/assets/js/129.f5e5935b.js"><link rel="prefetch" href="/assets/js/13.5c39c521.js"><link rel="prefetch" href="/assets/js/130.9190ec1a.js"><link rel="prefetch" href="/assets/js/131.58862cae.js"><link rel="prefetch" href="/assets/js/132.36cb262e.js"><link rel="prefetch" href="/assets/js/133.1131c2a9.js"><link rel="prefetch" href="/assets/js/134.812d764c.js"><link rel="prefetch" href="/assets/js/135.f91c6d9a.js"><link rel="prefetch" href="/assets/js/136.3dee2990.js"><link rel="prefetch" href="/assets/js/137.1444162c.js"><link rel="prefetch" href="/assets/js/138.30ca22b4.js"><link rel="prefetch" href="/assets/js/139.11db2a04.js"><link rel="prefetch" href="/assets/js/14.692919f9.js"><link rel="prefetch" href="/assets/js/140.54a0ffe7.js"><link rel="prefetch" href="/assets/js/141.63691515.js"><link rel="prefetch" href="/assets/js/142.aae3f743.js"><link rel="prefetch" href="/assets/js/143.e877d3ca.js"><link rel="prefetch" href="/assets/js/144.88bcbbb4.js"><link rel="prefetch" href="/assets/js/145.b7e5ed7a.js"><link rel="prefetch" href="/assets/js/146.b0b3fae2.js"><link rel="prefetch" href="/assets/js/147.cd6cc230.js"><link rel="prefetch" href="/assets/js/148.7998a101.js"><link rel="prefetch" href="/assets/js/149.76c1bfab.js"><link rel="prefetch" href="/assets/js/15.070a1c7a.js"><link rel="prefetch" href="/assets/js/150.dd46808f.js"><link rel="prefetch" href="/assets/js/151.623fe77f.js"><link rel="prefetch" href="/assets/js/152.aa0cb9a8.js"><link rel="prefetch" href="/assets/js/153.64187a7d.js"><link rel="prefetch" href="/assets/js/154.822361ac.js"><link rel="prefetch" href="/assets/js/155.553bc760.js"><link rel="prefetch" href="/assets/js/156.a272f4cf.js"><link rel="prefetch" href="/assets/js/157.80ffb543.js"><link rel="prefetch" href="/assets/js/158.82e6381b.js"><link rel="prefetch" href="/assets/js/159.ac8d0645.js"><link rel="prefetch" href="/assets/js/16.b5468e1d.js"><link rel="prefetch" href="/assets/js/160.c351b93b.js"><link rel="prefetch" href="/assets/js/161.ec25cb22.js"><link rel="prefetch" href="/assets/js/162.549cfec5.js"><link rel="prefetch" href="/assets/js/163.65343c19.js"><link rel="prefetch" href="/assets/js/164.b05f7fa6.js"><link rel="prefetch" href="/assets/js/165.8cae26ce.js"><link rel="prefetch" href="/assets/js/166.1b5cc3f6.js"><link rel="prefetch" href="/assets/js/167.ed5bf359.js"><link rel="prefetch" href="/assets/js/168.5f2ed9fe.js"><link rel="prefetch" href="/assets/js/169.2062ec94.js"><link rel="prefetch" href="/assets/js/17.55ff27d8.js"><link rel="prefetch" href="/assets/js/170.7f79879c.js"><link rel="prefetch" href="/assets/js/171.2b01187b.js"><link rel="prefetch" href="/assets/js/172.6e6357b2.js"><link rel="prefetch" href="/assets/js/173.8809d2bf.js"><link rel="prefetch" href="/assets/js/174.1433e0b6.js"><link rel="prefetch" href="/assets/js/175.fed5215a.js"><link rel="prefetch" href="/assets/js/176.e82ff447.js"><link rel="prefetch" href="/assets/js/177.46cb2c1b.js"><link rel="prefetch" href="/assets/js/18.a164dc93.js"><link rel="prefetch" href="/assets/js/19.b3381ab7.js"><link rel="prefetch" href="/assets/js/20.41b522a4.js"><link rel="prefetch" href="/assets/js/21.a27050b2.js"><link rel="prefetch" href="/assets/js/22.eca8ff10.js"><link rel="prefetch" href="/assets/js/23.2f8f8234.js"><link rel="prefetch" href="/assets/js/24.3d90207f.js"><link rel="prefetch" href="/assets/js/25.13f5e7f6.js"><link rel="prefetch" href="/assets/js/26.b4523ff6.js"><link rel="prefetch" href="/assets/js/27.02368f7f.js"><link rel="prefetch" href="/assets/js/28.75213a63.js"><link rel="prefetch" href="/assets/js/29.2ffd2ad2.js"><link rel="prefetch" href="/assets/js/3.c52634f9.js"><link rel="prefetch" href="/assets/js/30.7d4aa012.js"><link rel="prefetch" href="/assets/js/31.66018179.js"><link rel="prefetch" href="/assets/js/32.4720203a.js"><link rel="prefetch" href="/assets/js/33.9dfb161c.js"><link rel="prefetch" href="/assets/js/34.d080c26a.js"><link rel="prefetch" href="/assets/js/35.55af0735.js"><link rel="prefetch" href="/assets/js/36.a9d8d9f2.js"><link rel="prefetch" href="/assets/js/37.7d3578f1.js"><link rel="prefetch" href="/assets/js/38.55f5efd5.js"><link rel="prefetch" href="/assets/js/39.efc36fc0.js"><link rel="prefetch" href="/assets/js/4.4d0c1649.js"><link rel="prefetch" href="/assets/js/40.bf5bc4c2.js"><link rel="prefetch" href="/assets/js/41.475e86d2.js"><link rel="prefetch" href="/assets/js/42.68d6e3b6.js"><link rel="prefetch" href="/assets/js/43.4544ce59.js"><link rel="prefetch" href="/assets/js/44.07003137.js"><link rel="prefetch" href="/assets/js/45.445fc4ca.js"><link rel="prefetch" href="/assets/js/46.f789278d.js"><link rel="prefetch" href="/assets/js/47.3b38ec0d.js"><link rel="prefetch" href="/assets/js/48.c22292ac.js"><link rel="prefetch" href="/assets/js/49.17eeb897.js"><link rel="prefetch" href="/assets/js/5.7f37b4a6.js"><link rel="prefetch" href="/assets/js/50.5b1ba546.js"><link rel="prefetch" href="/assets/js/51.3ce95d20.js"><link rel="prefetch" href="/assets/js/52.142a8335.js"><link rel="prefetch" href="/assets/js/53.05bcf9bc.js"><link rel="prefetch" href="/assets/js/54.6eebc7a9.js"><link rel="prefetch" href="/assets/js/55.2cc5c011.js"><link rel="prefetch" href="/assets/js/56.e989e9a8.js"><link rel="prefetch" href="/assets/js/57.0e31090d.js"><link rel="prefetch" href="/assets/js/58.a5eb28f3.js"><link rel="prefetch" href="/assets/js/59.d3bd339d.js"><link rel="prefetch" href="/assets/js/6.e3f65095.js"><link rel="prefetch" href="/assets/js/60.22c70fc2.js"><link rel="prefetch" href="/assets/js/61.7df29a46.js"><link rel="prefetch" href="/assets/js/62.8b184d2f.js"><link rel="prefetch" href="/assets/js/63.9220fff7.js"><link rel="prefetch" href="/assets/js/64.7ab3b5d2.js"><link rel="prefetch" href="/assets/js/65.eb69bd05.js"><link rel="prefetch" href="/assets/js/66.12f2546c.js"><link rel="prefetch" href="/assets/js/67.45da3179.js"><link rel="prefetch" href="/assets/js/68.74e8d1b2.js"><link rel="prefetch" href="/assets/js/69.b48f4880.js"><link rel="prefetch" href="/assets/js/7.431d47de.js"><link rel="prefetch" href="/assets/js/70.f3f39910.js"><link rel="prefetch" href="/assets/js/71.8d363e13.js"><link rel="prefetch" href="/assets/js/72.c768502b.js"><link rel="prefetch" href="/assets/js/73.53f2e819.js"><link rel="prefetch" href="/assets/js/74.7be105a4.js"><link rel="prefetch" href="/assets/js/75.a804acc1.js"><link rel="prefetch" href="/assets/js/76.3db842ab.js"><link rel="prefetch" href="/assets/js/77.9e0ad2e1.js"><link rel="prefetch" href="/assets/js/78.891f3122.js"><link rel="prefetch" href="/assets/js/79.334ac1b2.js"><link rel="prefetch" href="/assets/js/8.5366112a.js"><link rel="prefetch" href="/assets/js/80.77fbb75e.js"><link rel="prefetch" href="/assets/js/81.57d58a88.js"><link rel="prefetch" href="/assets/js/82.0d37fea2.js"><link rel="prefetch" href="/assets/js/83.94bb46e9.js"><link rel="prefetch" href="/assets/js/84.7a35514f.js"><link rel="prefetch" href="/assets/js/85.5f3d637c.js"><link rel="prefetch" href="/assets/js/86.80c8b1c5.js"><link rel="prefetch" href="/assets/js/87.a023949f.js"><link rel="prefetch" href="/assets/js/88.39ff370b.js"><link rel="prefetch" href="/assets/js/89.7f95dd8b.js"><link rel="prefetch" href="/assets/js/9.5ca025f2.js"><link rel="prefetch" href="/assets/js/90.97654b68.js"><link rel="prefetch" href="/assets/js/91.bb3d00e3.js"><link rel="prefetch" href="/assets/js/92.8470fcbe.js"><link rel="prefetch" href="/assets/js/93.888302c0.js"><link rel="prefetch" href="/assets/js/94.6eb6f16f.js"><link rel="prefetch" href="/assets/js/95.c4b4db4e.js"><link rel="prefetch" href="/assets/js/96.8e39c693.js"><link rel="prefetch" href="/assets/js/97.d025fc98.js"><link rel="prefetch" href="/assets/js/98.707997ae.js"><link rel="prefetch" href="/assets/js/99.ba783ce5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d0633a17.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7f2299.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/btcpay-logo.svg" alt="BTCPay Server" class="logo"> <span class="site-name can-hide">BTCPay Server</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link router-link-active">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <button type="button" class="btcpay-theme-switch"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path transform="translate(1 1)" d="M2.72 0A3.988 3.988 0 000 3.78c0 2.21 1.79 4 4 4 1.76 0 3.25-1.14 3.78-2.72-.4.13-.83.22-1.28.22-2.21 0-4-1.79-4-4 0-.45.08-.88.22-1.28z" class="btcpay-theme-switch-dark"></path><path transform="translate(1 1)" d="M4 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 0 4 0zM1.5 1c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM.5 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM1.5 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 7 4 7z" class="btcpay-theme-switch-light"></path></svg></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link router-link-active">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/" aria-current="page" class="sidebar-link">Choosing a Deployment Method</a></li><li><a href="/Deployment/ThirdPartyHosting/" class="sidebar-link">Third-party hosting</a></li><li><a href="/Configurator/" class="sidebar-link">Deploy BTCPay with Configurator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Docker/" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/Deployment/webdeployment" class="sidebar-heading clickable"><span>Web/Cloud Deployment</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/LunaNode/" class="sidebar-link">Luna Node</a></li><li><a href="/Deployment/voltagecloud/" class="sidebar-link">Voltage Cloud</a></li><li><a href="/Deployment/Clovyr/" class="sidebar-link">Clovyr</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Deployment/Azure" class="sidebar-heading clickable"><span>Azure</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Deployment/GoogleCloud/" class="sidebar-link">Google Cloud</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/Deployment/Hardware" class="sidebar-heading clickable open"><span>Hardware Deployment</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/RaspberryPi4/" class="sidebar-link">Raspberry Pi Deployment</a></li><li><a href="/Deployment/Hack0/" class="sidebar-link">Hack0 Deployment</a></li><li><a href="/Deployment/LightningInABox/" aria-current="page" class="active sidebar-link">LightningInABox Deployment</a></li><li><a href="/Deployment/DynamicDNS/" class="sidebar-link">Dynamic DNS</a></li><li><a href="/Docker/cloudflare-tunnel/" class="sidebar-link">Exposing on clearnet with Cloudflare</a></li><li><a href="/Deployment/ReverseSSHtunnel/" class="sidebar-link">Exposing on clearnet with a reverse SSH Tunnel</a></li><li><a href="/Deployment/ReverseProxyToTor/" class="sidebar-link">Exposing on Tor</a></li><li><a href="/Deployment/HardwareAsAService/" class="sidebar-link">Hardware As A Service</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker Plugins</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/Docker/fastsync/" class="sidebar-link">FastSync</a></li><li><a href="/Docker/backup-restore/" class="sidebar-link">Backup &amp; Restore</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Manual Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/ManualDeployment/" class="sidebar-link">Minimal manual setup</a></li><li><a href="/Deployment/ManualDeploymentExtended/" class="sidebar-link">Extended Manual Setup</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hardware-deployment"><a href="#hardware-deployment" class="header-anchor">#</a> Hardware Deployment</h1> <p>In order for your Bitcoin experience to be truly self-sovereign and trustless you should consider <strong>running nodes on your own hardware</strong> and internet connection.
<strong>BTCPay Server is an excellent way to run both Bitcoin &amp; Lightning nodes</strong>.
Not only are you validating transactions you also get the ability to accept base layer Bitcoin and second layer Lightning payments.
Following are instructions to install and host your very own BTCPay Server.</p> <p>The process is basically the following:</p> <ol><li>Purchase and assemble hardware.</li> <li>Install base Operating System and configure networking.</li> <li>Install BTCPayServer-Docker.</li></ol> <p><strong>BTCPay Server can be installed on the following hardware</strong>. The end result is a small, quiet node that is fast enough to sync from block zero. The total cost is approximately $300.</p> <ol><li><a href="https://www.amazon.com/dp/B0C89TQ1YF?ref=nb_sb_ss_w_as-reorder-t1_k0_1_4&amp;amp=&amp;crid=SHKYOXZIRAO0&amp;amp=&amp;sprefix=beel" target="_blank" rel="noopener noreferrer">BeeLink S12 - Mini PC - $169.00<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.amazon.com/Western-Digital-SA510-Internal-Solid/dp/B0C14TF467/ref=sr_1_3?crid=2WDY52E7ESSEB&amp;dib=eyJ2IjoiMSJ9.MBxkb5ZIvwjKXOzscB0GUvsbhX1rVhilXNFzID6n0xHORsDBPkIxQhIixVuiLY9I16rlFs5COExAAD8761Do-tzuAnZiutbqN-KM9rAL4zCw94kA_ArCJeR_RTDynZbiXf2Phnahw1Gw2dqXVek3p0dpe6_a_fbJrqx4BRaieoYo0zj1mX6YPGaYZAmF2Vf_Quk1TrkARk6s1_wZ0vFUw7EWdjKJ9hmNLxPWMfADML90A1rXk8gSCcRnwV2jdzN7jCfg2_urfJZ3IWOW5X3iwnP7s-vSec88PGmQ3RhS-Rc.sEURveFhiTAHYwZQdwyJX72hpWL5UgD_3tEPet747oE&amp;dib_tag=se&amp;keywords=2tb+ssd+wd+blue&amp;qid=1710685725&amp;s=electronics&amp;sprefix=2tb+ssd+wd+blue%2Celectronics%2C90&amp;sr=1-3" target="_blank" rel="noopener noreferrer">WD Blue 2TB SSD - $129.00<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>Other requirements are as follows:</p> <ol><li>High speed internet connection.</li> <li>Static IP</li> <li>Domain Name</li> <li>Ability to open ports on your router (optional, BTCPayServer can be accessed over TOR or by Dynamic DNS).</li> <li>Tiny Screwdriver</li> <li>USB Thumb Drive</li> <li>USB Keyboard, Mouse and Monitor (for initial install only). Can be headless when completed.</li></ol> <p>Assuming you purchased the hardware mentioned above, here are the build instructions.</p> <h3 id="configure-your-domain-name"><a href="#configure-your-domain-name" class="header-anchor">#</a> Configure your domain name.</h3> <p>It can take several hours for DNS changes to propagate so you should do this step first.
Login to your domain registrar and point an A record from your domain to the external IP address of your internet connection.
I suggest that you use a subdomain (ie. btcpay.yourdomain.com).
To find your external IP address Google &quot;whats my ip&quot;.</p> <h3 id="assemble-your-lightning-in-a-box-liab"><a href="#assemble-your-lightning-in-a-box-liab" class="header-anchor">#</a> Assemble your Lightning in a Box (LIAB).</h3> <ul><li>Remove back cover with screwdriver.</li> <li>Insert SSD</li> <li>Install hard drive using included cage.</li></ul> <h3 id="download-ubuntu-2204-lts-server"><a href="#download-ubuntu-2204-lts-server" class="header-anchor">#</a> Download <a href="https://releases.ubuntu.com/jammy/ubuntu-22.04.4-live-server-amd64.iso" target="_blank" rel="noopener noreferrer">Ubuntu 22.04 LTS Server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h3 id="download-and-install-balena-etcher"><a href="#download-and-install-balena-etcher" class="header-anchor">#</a> Download and install <a href="https://etcher.balena.io/" target="_blank" rel="noopener noreferrer">Balena Etcher<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</h3> <p>Etcher is software that is used to flash OS images to SD cards and USB Drives.
In this case we will be using Etcher to flash our USB Thumb Drive with the Ubuntu OS.</p> <h3 id="connect-your-usb-keyboard-mouse-monitor-and-thumb-drive"><a href="#connect-your-usb-keyboard-mouse-monitor-and-thumb-drive" class="header-anchor">#</a> Connect your USB keyboard, mouse, monitor and thumb drive.</h3> <p>Press the power button to boot your LIAB. Press the &quot;DEL&quot; key to access the bios and change the boot order to use the thumb drive first.
The Ubuntu installation process is pretty simple and easy to follow. Here's a tutorial from the Ubuntu website. <a href="https://ubuntu.com/tutorials/install-ubuntu-server#1-overview" target="_blank" rel="noopener noreferrer">Install Ubuntu Server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The BeeLink S12 ships with Windows Pre-Installed so you will have to delete the NVME partitions and install Ubuntu on that drive.</p> <p>*During the install process make sure you set the hostname to &quot;btcpay&quot; and enable SSH.</p> <h3 id="give-your-liab-a-static-ip-address-on-your-local-network"><a href="#give-your-liab-a-static-ip-address-on-your-local-network" class="header-anchor">#</a> Give your LIAB a static IP address on your local network.</h3> <p>There are a few different ways to do this and you will find a ton of articles online. Here's a pretty simple one to follow <a href="https://www.linuxtechi.com/static-ip-address-on-ubuntu-server/" target="_blank" rel="noopener noreferrer">How to configure a static IP address on Ubuntu 22.04<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. To avoid conflicts with other devices on your network you should also set a &quot;reservation&quot; for your LIAB.</p> <h3 id="log-into-your-router-and-forward-ports-80-443-and-9735-to-your-liabs-local-ip-address-optional-if-using-local-or-tor-only"><a href="#log-into-your-router-and-forward-ports-80-443-and-9735-to-your-liabs-local-ip-address-optional-if-using-local-or-tor-only" class="header-anchor">#</a> Log into your router and forward ports 80, 443 and 9735 to your LIAB's local IP address. (optional, if using .local, or Tor only)</h3> <p>Every router is different and you should be able to find instructions for your router by searching for &quot;Port Forward + your router make and model&quot;.</p> <h3 id="install-fail2ban-git-and-avahi-daemon"><a href="#install-fail2ban-git-and-avahi-daemon" class="header-anchor">#</a> Install Fail2ban, GIT and Avahi-Daemon.</h3> <ul><li><a href="https://github.com/fail2ban/fail2ban/wiki/How-to-install-fail2ban-packages" target="_blank" rel="noopener noreferrer">Fail2ban<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> bans IP's that attempt to connect to your server and show malicious signs. GIT allows you to clone and manage repositories on github.com.</li> <li><a href="https://avahi.org/" target="_blank" rel="noopener noreferrer">Avahi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a system which facilitates service discovery on a local network via the mDNS/DNS-SD protocol suite.
Open a new terminal window and type the following commands:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> fail2ban <span class="token function">git</span> avahi-daemon
</code></pre></div><h3 id="configuring-the-firewall"><a href="#configuring-the-firewall" class="header-anchor">#</a> Configuring the firewall</h3> <p>Install a firewall and allow SSH, HTTP, HTTPS, Bitcoin, and Lightning:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> ufw
ufw default deny incoming
ufw default allow outgoing
</code></pre></div><p>This command allows SSH connections from internal networks only:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ufw allow from <span class="token number">10.0</span>.0.0/8 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">172.16</span>.0.0/12 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">192.168</span>.0.0/16 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">169.254</span>.0.0/16 to any port <span class="token number">22</span> proto tcp
ufw allow from fc00::/7 to any port <span class="token number">22</span> proto tcp
ufw allow from fe80::/10 to any port <span class="token number">22</span> proto tcp
ufw allow from ff00::/8 to any port <span class="token number">22</span> proto tcp
</code></pre></div><p>These ports need to be accessible from anywhere (The default subnet is 'any' unless you specify one):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ufw allow <span class="token number">80</span>/tcp
ufw allow <span class="token number">443</span>/tcp
ufw allow <span class="token number">8333</span>/tcp
ufw allow <span class="token number">9735</span>/tcp

<span class="token comment"># Enable the firewall</span>
ufw <span class="token builtin class-name">enable</span>

<span class="token comment"># Verify the configuration</span>
ufw status
</code></pre></div><h3 id="install-docker"><a href="#install-docker" class="header-anchor">#</a> Install Docker</h3> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> stable&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">apt-cache</span> policy docker-ce
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> docker-ce
<span class="token function">sudo</span> systemctl status <span class="token function">docker</span>
</code></pre></div><h3 id="configuring-the-storage"><a href="#configuring-the-storage" class="header-anchor">#</a> Configuring the storage</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> /dev/sda
<span class="token comment"># type 'p' to list existing partitions</span>
<span class="token comment"># type 'd' to delete currently selected partitions</span>
<span class="token comment"># type 'n' to create a new partition</span>
<span class="token comment"># type 'w' to write the new partition table and exit fdisk</span>
mkfs.ext4 /dev/sda1
<span class="token function">mkdir</span> /mnt/usb
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> blkid <span class="token parameter variable">-s</span> UUID <span class="token parameter variable">-o</span> value /dev/sda1<span class="token variable">)</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;UUID=<span class="token variable">$UUID</span> /mnt/usb ext4 defaults,noatime,nofail 0 0&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/fstab
<span class="token function">mount</span> <span class="token parameter variable">-a</span>
</code></pre></div><h3 id="create-mount-for-docker-volumes"><a href="#create-mount-for-docker-volumes" class="header-anchor">#</a> Create mount for Docker volumes</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /var/lib/docker
<span class="token function">mount</span> <span class="token parameter variable">--bind</span> /mnt/usb /var/lib/docker
<span class="token builtin class-name">echo</span> <span class="token string">&quot;/mnt/docker /var/lib/docker none bind,nobootwait 0 2&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
systemctl restart <span class="token function">docker</span>
</code></pre></div><h3 id="setup-btcpay-server"><a href="#setup-btcpay-server" class="header-anchor">#</a> Setup BTCPay Server</h3> <p>Download BTCPay Server from GitHub:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token comment"># ensure we are in root home</span>
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> fail2ban <span class="token function">git</span>
<span class="token function">git</span> clone https://github.com/btcpayserver/btcpayserver-docker
<span class="token builtin class-name">cd</span> btcpayserver-docker
</code></pre></div><p>Configure BTCPay by setting some <a href="https://github.com/btcpayserver/btcpayserver-docker#environment-variables" target="_blank" rel="noopener noreferrer">environment variables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_HOST</span><span class="token operator">=</span><span class="token string">&quot;btcpay.local&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">REVERSEPROXY_DEFAULT_HOST</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$BTCPAY_HOST</span>&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NBITCOIN_NETWORK</span><span class="token operator">=</span><span class="token string">&quot;mainnet&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_CRYPTO1</span><span class="token operator">=</span><span class="token string">&quot;btc&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_LIGHTNING</span><span class="token operator">=</span><span class="token string">&quot;clightning&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_REVERSEPROXY</span><span class="token operator">=</span><span class="token string">&quot;nginx&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_ENABLE_SSH</span><span class="token operator">=</span>true
</code></pre></div><p>If you want to use multiple hostnames, add them via the optional <code>BTCPAY_ADDITIONAL_HOSTS</code> variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_ADDITIONAL_HOSTS</span><span class="token operator">=</span><span class="token string">&quot;btcpay.YourDomain.com&quot;</span>
</code></pre></div><p>In case you want to restrict access to your local network only, please note that you need to use a <code>.local</code> domain.</p> <p>Run the BTCPay installation:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span> ./btcpay-setup.sh <span class="token parameter variable">-i</span>
</code></pre></div><p>It should be up and running within a few minutes. Try opening http://btcpay.local in your web browser. If everything is correct, you will see BTCPay Server front page.</p> <p>Now, you just need to wait a day or so for the Bitcoin blockchain to <a href="/FAQ/Synchronization/">sync and full verify</a>. The bottom of the BTCPay Server web GUI will show a pop-up dialog box to monitor the progress.</p> <h3 id="fastsync-optional"><a href="#fastsync-optional" class="header-anchor">#</a> FastSync (optional)</h3> <p>Please read very carefully to understand what <a href="/Docker/fastsync/">FastSync</a> is and why it is important to verify the UTXO set yourself.</p> <p>By using FastSync, you are exposing yourself to attacks if a <a href="https://github.com/btcpayserver/btcpayserver-docker/blob/master/contrib/FastSync/README.md#what-are-the-downsides-of-fast-sync" target="_blank" rel="noopener noreferrer">malicious UTXO set snapshot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is sent to you.
If you have another trusted node somewhere else, you can check the validity of the UTXO set gathered by FastSync by following <a href="https://github.com/btcpayserver/btcpayserver-docker/blob/master/contrib/FastSync/README.md#dont-trust-verify" target="_blank" rel="noopener noreferrer">these instructions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Stop BTCPay Server</span>
<span class="token builtin class-name">cd</span> /root/btcpayserver/btcpayserver-docker
./btcpay-down.sh

<span class="token comment"># Import FastSync UTXO set</span>
<span class="token builtin class-name">cd</span> contrib/FastSync
./load-utxo-set.sh
</code></pre></div><p>FastSync currently takes about 30 minutes on a high-speed internet connection.
After FastSync finishes, run the following command to restart BTCPay Server:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>
./btcpay-up.sh
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/edit/master/docs/Deployment/LightningInABox.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/issues/new?title=Improve%20Hardware%20Deployment&amp;body=I%20could%20not%20find%20the%20information%20I%20was%20looking%20for%20on%20the%20%22Hardware%20Deployment%22%20page%20(%60%2FDeployment%2FLightningInABox%2F%60).%0A%0A%5BPLEASE%20DESCRIBE%20HOW%20THE%20PAGE%20CAN%20BE%20IMPROVED%5D&amp;labels=question" target="_blank" rel="noopener noreferrer">Didn't find an answer?</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/Deployment/Hack0/" class="prev">
        Hack0 Deployment
      </a></span> <span class="next"><a href="/Deployment/DynamicDNS/">
        Dynamic DNS
      </a>
      
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.77e89f6e.js" defer></script><script src="/assets/js/2.9e7169ce.js" defer></script><script src="/assets/js/120.bdc4e2b4.js" defer></script>
  </body>
</html>
