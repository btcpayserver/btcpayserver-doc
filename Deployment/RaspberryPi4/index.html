<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Raspberry Pi Deployment | BTCPay Server</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="stylesheet" href="/styles/btcpayserver-variables.css">
    <meta name="description" content="BTCPay Server Official Documentation">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.4b250e51.css" as="style"><link rel="preload" href="/assets/js/app.4530df45.js" as="script"><link rel="preload" href="/assets/js/3.4f87bb5f.js" as="script"><link rel="preload" href="/assets/js/15.cc918b98.js" as="script"><link rel="preload" href="/assets/js/47.fac59f4d.js" as="script"><link rel="prefetch" href="/assets/js/10.b590bb47.js"><link rel="prefetch" href="/assets/js/100.6aee05d4.js"><link rel="prefetch" href="/assets/js/101.712986ed.js"><link rel="prefetch" href="/assets/js/102.a295d0de.js"><link rel="prefetch" href="/assets/js/103.b12c28fb.js"><link rel="prefetch" href="/assets/js/104.4e6afd54.js"><link rel="prefetch" href="/assets/js/105.b9242195.js"><link rel="prefetch" href="/assets/js/106.74d531a1.js"><link rel="prefetch" href="/assets/js/107.65df02fb.js"><link rel="prefetch" href="/assets/js/108.71799aca.js"><link rel="prefetch" href="/assets/js/109.f672c5ef.js"><link rel="prefetch" href="/assets/js/11.5a384aeb.js"><link rel="prefetch" href="/assets/js/110.fabcd86f.js"><link rel="prefetch" href="/assets/js/111.0062e7d7.js"><link rel="prefetch" href="/assets/js/112.61722a27.js"><link rel="prefetch" href="/assets/js/113.ed1cc2eb.js"><link rel="prefetch" href="/assets/js/114.3658a4ff.js"><link rel="prefetch" href="/assets/js/115.0200cb7f.js"><link rel="prefetch" href="/assets/js/116.5bcdb3fd.js"><link rel="prefetch" href="/assets/js/117.2620d70f.js"><link rel="prefetch" href="/assets/js/118.2d6c506a.js"><link rel="prefetch" href="/assets/js/119.5ad0aad1.js"><link rel="prefetch" href="/assets/js/12.6a1eb32a.js"><link rel="prefetch" href="/assets/js/120.9aa03742.js"><link rel="prefetch" href="/assets/js/121.ddaac92b.js"><link rel="prefetch" href="/assets/js/122.3e64a74d.js"><link rel="prefetch" href="/assets/js/123.be481c72.js"><link rel="prefetch" href="/assets/js/124.0810bcea.js"><link rel="prefetch" href="/assets/js/125.caa74277.js"><link rel="prefetch" href="/assets/js/126.fb38eaa5.js"><link rel="prefetch" href="/assets/js/127.cdd5b480.js"><link rel="prefetch" href="/assets/js/128.8f9670a5.js"><link rel="prefetch" href="/assets/js/129.d508514e.js"><link rel="prefetch" href="/assets/js/13.eb240618.js"><link rel="prefetch" href="/assets/js/130.17153051.js"><link rel="prefetch" href="/assets/js/131.b57c18a1.js"><link rel="prefetch" href="/assets/js/132.d8550608.js"><link rel="prefetch" href="/assets/js/133.4ba20d24.js"><link rel="prefetch" href="/assets/js/134.e5c326c5.js"><link rel="prefetch" href="/assets/js/135.d819d801.js"><link rel="prefetch" href="/assets/js/136.1a151c47.js"><link rel="prefetch" href="/assets/js/137.7cb50d84.js"><link rel="prefetch" href="/assets/js/138.e25cb031.js"><link rel="prefetch" href="/assets/js/139.81fcea1b.js"><link rel="prefetch" href="/assets/js/14.fbc4ff4b.js"><link rel="prefetch" href="/assets/js/140.416cbbfc.js"><link rel="prefetch" href="/assets/js/141.a4374cf4.js"><link rel="prefetch" href="/assets/js/16.22dc6e78.js"><link rel="prefetch" href="/assets/js/17.003ff711.js"><link rel="prefetch" href="/assets/js/18.1044c7c3.js"><link rel="prefetch" href="/assets/js/19.2945a966.js"><link rel="prefetch" href="/assets/js/20.2f7c712c.js"><link rel="prefetch" href="/assets/js/21.92c85cda.js"><link rel="prefetch" href="/assets/js/22.82604183.js"><link rel="prefetch" href="/assets/js/23.38500164.js"><link rel="prefetch" href="/assets/js/24.e0e1f986.js"><link rel="prefetch" href="/assets/js/25.bdc18ed4.js"><link rel="prefetch" href="/assets/js/26.6c3a9675.js"><link rel="prefetch" href="/assets/js/27.9df83a94.js"><link rel="prefetch" href="/assets/js/28.6e9bfeca.js"><link rel="prefetch" href="/assets/js/29.0b77a44c.js"><link rel="prefetch" href="/assets/js/30.3a25db96.js"><link rel="prefetch" href="/assets/js/31.8db7408d.js"><link rel="prefetch" href="/assets/js/32.af0676d8.js"><link rel="prefetch" href="/assets/js/33.2abf4e51.js"><link rel="prefetch" href="/assets/js/34.a4fe410e.js"><link rel="prefetch" href="/assets/js/35.3593347e.js"><link rel="prefetch" href="/assets/js/36.3aeb340f.js"><link rel="prefetch" href="/assets/js/37.7bd3e790.js"><link rel="prefetch" href="/assets/js/38.a02c14b0.js"><link rel="prefetch" href="/assets/js/39.a4da7c44.js"><link rel="prefetch" href="/assets/js/4.0d83185b.js"><link rel="prefetch" href="/assets/js/40.858bc962.js"><link rel="prefetch" href="/assets/js/41.b604433a.js"><link rel="prefetch" href="/assets/js/42.c71fdf12.js"><link rel="prefetch" href="/assets/js/43.ba128b68.js"><link rel="prefetch" href="/assets/js/44.815a1d59.js"><link rel="prefetch" href="/assets/js/45.e703657f.js"><link rel="prefetch" href="/assets/js/46.9bbfd9ab.js"><link rel="prefetch" href="/assets/js/48.0eb005a7.js"><link rel="prefetch" href="/assets/js/49.be388a83.js"><link rel="prefetch" href="/assets/js/5.7a9fe1fd.js"><link rel="prefetch" href="/assets/js/50.9d676f0c.js"><link rel="prefetch" href="/assets/js/51.51c74bc7.js"><link rel="prefetch" href="/assets/js/52.63e8b473.js"><link rel="prefetch" href="/assets/js/53.cee0808d.js"><link rel="prefetch" href="/assets/js/54.54d2a17d.js"><link rel="prefetch" href="/assets/js/55.5fc17228.js"><link rel="prefetch" href="/assets/js/56.2e483927.js"><link rel="prefetch" href="/assets/js/57.db6a1516.js"><link rel="prefetch" href="/assets/js/58.0f2a6c03.js"><link rel="prefetch" href="/assets/js/59.e9fcea83.js"><link rel="prefetch" href="/assets/js/6.74a3470f.js"><link rel="prefetch" href="/assets/js/60.4993de24.js"><link rel="prefetch" href="/assets/js/61.cc487bea.js"><link rel="prefetch" href="/assets/js/62.efe9377c.js"><link rel="prefetch" href="/assets/js/63.de08658b.js"><link rel="prefetch" href="/assets/js/64.b48ceef6.js"><link rel="prefetch" href="/assets/js/65.9e7e749b.js"><link rel="prefetch" href="/assets/js/66.f3c38a64.js"><link rel="prefetch" href="/assets/js/67.848c476d.js"><link rel="prefetch" href="/assets/js/68.0ffbaa1c.js"><link rel="prefetch" href="/assets/js/69.3df8dbbe.js"><link rel="prefetch" href="/assets/js/7.3bb0f7ba.js"><link rel="prefetch" href="/assets/js/70.4854ca60.js"><link rel="prefetch" href="/assets/js/71.5eb4defc.js"><link rel="prefetch" href="/assets/js/72.adfe695d.js"><link rel="prefetch" href="/assets/js/73.919b76f2.js"><link rel="prefetch" href="/assets/js/74.31b6a431.js"><link rel="prefetch" href="/assets/js/75.f39ed73f.js"><link rel="prefetch" href="/assets/js/76.6d86d8e0.js"><link rel="prefetch" href="/assets/js/77.411eb8f4.js"><link rel="prefetch" href="/assets/js/78.3ee6bace.js"><link rel="prefetch" href="/assets/js/79.04483a9e.js"><link rel="prefetch" href="/assets/js/8.7a0e586d.js"><link rel="prefetch" href="/assets/js/80.e5228385.js"><link rel="prefetch" href="/assets/js/81.d97bc6e5.js"><link rel="prefetch" href="/assets/js/82.08f30c30.js"><link rel="prefetch" href="/assets/js/83.e64c3b5f.js"><link rel="prefetch" href="/assets/js/84.7f0a5d14.js"><link rel="prefetch" href="/assets/js/85.656db013.js"><link rel="prefetch" href="/assets/js/86.c3b50781.js"><link rel="prefetch" href="/assets/js/87.5db12b88.js"><link rel="prefetch" href="/assets/js/88.2ff32fd8.js"><link rel="prefetch" href="/assets/js/89.b110dc20.js"><link rel="prefetch" href="/assets/js/9.7adc0427.js"><link rel="prefetch" href="/assets/js/90.04acd446.js"><link rel="prefetch" href="/assets/js/91.15c1c534.js"><link rel="prefetch" href="/assets/js/92.9a1983bb.js"><link rel="prefetch" href="/assets/js/93.436cbeae.js"><link rel="prefetch" href="/assets/js/94.d762265b.js"><link rel="prefetch" href="/assets/js/95.da97de1b.js"><link rel="prefetch" href="/assets/js/96.ab9fc06f.js"><link rel="prefetch" href="/assets/js/97.f6b03dfb.js"><link rel="prefetch" href="/assets/js/98.8d2fb8aa.js"><link rel="prefetch" href="/assets/js/99.0c52bae3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.237fb3be.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b250e51.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/btcpay-logo.svg" alt="BTCPay Server" class="logo"> <span class="site-name can-hide">BTCPay Server</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link router-link-active">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <button type="button" class="btcpay-theme-switch"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path transform="translate(1 1)" d="M2.72 0A3.988 3.988 0 000 3.78c0 2.21 1.79 4 4 4 1.76 0 3.25-1.14 3.78-2.72-.4.13-.83.22-1.28.22-2.21 0-4-1.79-4-4 0-.45.08-.88.22-1.28z" class="btcpay-theme-switch-dark"></path><path transform="translate(1 1)" d="M4 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 0 4 0zM1.5 1c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM.5 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM1.5 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 7 4 7z" class="btcpay-theme-switch-light"></path></svg></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link router-link-active">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/" aria-current="page" class="sidebar-link">Choosing a Deployment Method</a></li><li><a href="/Deployment/ThirdPartyHosting/" class="sidebar-link">Third-party hosting</a></li><li><a href="/Configurator/" class="sidebar-link">Deploy BTCPay with Configurator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Docker/" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/Deployment/webdeployment" class="sidebar-heading clickable"><span>Web/Cloud Deployment</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/LunaNode/" class="sidebar-link">Luna Node</a></li><li><a href="/Deployment/voltagecloud/" class="sidebar-link">Voltage Cloud</a></li><li><a href="/Deployment/Clovyr/" class="sidebar-link">Clovyr</a></li><li><a href="/Deployment/DreamlabNetwork/" class="sidebar-link">Dream Lab Network</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Deployment/Azure" class="sidebar-heading clickable"><span>Azure</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Deployment/GoogleCloud/" class="sidebar-link">Google Cloud</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/Deployment/Hardware" class="sidebar-heading clickable open"><span>Hardware Deployment</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/RaspberryPi4/" aria-current="page" class="active sidebar-link">Raspberry Pi Deployment</a></li><li><a href="/Deployment/Hack0/" class="sidebar-link">Hack0 Deployment</a></li><li><a href="/Deployment/LightningInABox/" class="sidebar-link">LightningInABox Deployment</a></li><li><a href="/Deployment/DynamicDNS/" class="sidebar-link">Dynamic DNS</a></li><li><a href="/Docker/cloudflare-tunnel/" class="sidebar-link">Exposing on clearnet with Cloudflare</a></li><li><a href="/Deployment/ReverseSSHtunnel/" class="sidebar-link">Exposing on clearnet with a reverse SSH Tunnel</a></li><li><a href="/Deployment/ReverseProxyToTor/" class="sidebar-link">Exposing on Tor</a></li><li><a href="/Deployment/HardwareAsAService/" class="sidebar-link">Hardware As A Service</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker Plugins</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/Docker/fastsync/" class="sidebar-link">FastSync</a></li><li><a href="/Docker/backup-restore/" class="sidebar-link">Backup &amp; Restore</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Manual Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/ManualDeployment/" class="sidebar-link">Minimal manual setup</a></li><li><a href="/Deployment/ManualDeploymentExtended/" class="sidebar-link">Extended Manual Setup</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="raspberry-pi-deployment"><a href="#raspberry-pi-deployment" class="header-anchor">#</a> Raspberry Pi Deployment</h1> <p>This document guides you step by step on <strong>how to run BTCPay Server on a Raspberry Pi 4</strong>.</p> <p>The <strong>Raspberry Pi 4</strong> is currently the best low-cost single-board computer available.
You can <strong>use a Raspberry Pi 4 to run your BTCPay Server</strong> at home for around $150 worth of parts, described below.</p> <p>Already have a Raspberry Pi 4 with the following specs?</p> <ul><li>4GB memory</li> <li>1TB USB 3.0 SSD</li> <li>16GB or greater SD card</li></ul> <p>If so, you can go straight to the <a href="#quickstart">quickstart instructions</a>.
Otherwise, here's what you need …</p> <h2 id="required-hardware"><a href="#required-hardware" class="header-anchor">#</a> Required Hardware</h2> <h3 id="raspberry-pi-4"><a href="#raspberry-pi-4" class="header-anchor">#</a> Raspberry Pi 4</h3> <ul><li><a href="https://www.canakit.com/raspberry-pi-4-4gb.html" target="_blank" rel="noopener noreferrer">Raspberry Pi 4 with <strong>4GB RAM</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$65)</li> <li><a href="https://www.amazon.com/dp/B073K14CVB/" target="_blank" rel="noopener noreferrer">Sandisk 16GB SD Card<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$10)</li></ul> <p>Don’t settle for only 1GB or 2GB of RAM. The <strong>4GB RAM</strong> version is harder to find than the other versions, but you absolutely want that <strong>4GB of RAM</strong> for a few extra bucks, and it’s totally worth spending a few extra minutes searching on the Internet to find a vendor that has the 4GB RAM version in stock. You’ll also need an <strong>SD card reader</strong> if you don’t already have one.</p> <h3 id="data-storage-options"><a href="#data-storage-options" class="header-anchor">#</a> Data Storage options</h3> <ul><li><a href="https://www.amazon.com/dp/B0874XN4D8/" target="_blank" rel="noopener noreferrer">Samsung SSD T7 1TB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$100)</li> <li><a href="https://www.amazon.com/dp/B071KGRXRG/" target="_blank" rel="noopener noreferrer">SanDisk Ultra 3D 1TB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$100)</li></ul> <p>A 1TB SSD allows you to keep a full copy of the Bitcoin blockchain.
You can also use BTCPay Server without a full copy of the Bitcoin blockchain by using the <a href="/Docker/#how-i-can-prune-my-nodes">pruning option</a>.</p> <h3 id="power-adapter-options"><a href="#power-adapter-options" class="header-anchor">#</a> Power Adapter options</h3> <ul><li><a href="https://shop.pimoroni.com/products/raspberry-pi-official-usb-c-power-supply-us?variant=29391144648787" target="_blank" rel="noopener noreferrer">Official Raspberry Pi 4 USB-C Power Adapter 5.1V/3A for US<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ($10)</li> <li><a href="https://shop.pimoroni.com/products/raspberry-pi-official-usb-c-power-supply-eu?variant=29391130624083" target="_blank" rel="noopener noreferrer">Official Raspberry Pi 4 USB-C Power Adapter 5.1V/3A for EU<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ($10)</li> <li><a href="https://shop.pimoroni.com/products/raspberry-pi-official-usb-c-power-supply-au?variant=29391160737875" target="_blank" rel="noopener noreferrer">Official Raspberry Pi 4 USB-C Power Adapter 5.1V/3A for AU<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ($10)</li></ul> <p>Don’t waste your time with random cheap power adapters from Amazon, or expect that the existing ones you have at home are going to work fine. The Raspberry Pi 4 has issues with unofficial adapters, and for only $10 it’s better to just <strong>get an official adapter</strong> instead of learning this the hard way.</p> <h3 id="case-and-cooling-options"><a href="#case-and-cooling-options" class="header-anchor">#</a> Case and Cooling options</h3> <ul><li><a href="https://www.amazon.com/dp/B07WG4DW52/" target="_blank" rel="noopener noreferrer">Flirc Heatsink Case<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$15)</li> <li><a href="https://www.amazon.com/dp/B07VQRYTPR/" target="_blank" rel="noopener noreferrer">Passive cooling aluminum case<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (~$15)</li></ul> <p>Of course, using a case is totally optional, but we recommend one to protect your Raspberry Pi over the long-term.
Strictly speaking, you don’t actually need a cooling solution, but you certainly <strong>want</strong> at least passive cooling.
Once the Raspberry PI core temperature reaches 70°C, it will throttle down the CPU.</p> <h2 id="quickstart"><a href="#quickstart" class="header-anchor">#</a> Quickstart</h2> <p>Download and open the latest <a href="https://www.raspberrypi.com/software/" target="_blank" rel="noopener noreferrer">Raspberry Pi Imager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <figure><img src="/assets/img/rpi-imager.9299bfff.png" alt="Raspberry Pi Imager" title="Raspberry Pi Imager"></figure> <p>Choose the following options:</p> <ul><li>Operating System: Raspberry Pi OS Lite (64-bit)
<ul><li>Find it via &quot;Raspberry Pi OS (Other)&quot;</li></ul></li> <li>Storage: Select your SD card</li></ul> <p>Open the Advanced Settings via the button in the bottom right corner.</p> <figure><img src="/assets/img/rpi-imager-advanced-settings.8bdd9c34.png" alt="Raspberry Pi Imager Advanced Settings" title="Raspberry Pi Imager Advanced Settings"></figure> <p>Advanced Settings:</p> <ul><li>Set the hostname to what you like, this guide assumes <code>btcpay.local</code>.</li> <li>Enabled SSH</li> <li>Set username and password, this guide assumes <code>btcpay</code> as username.</li></ul> <p>Other settings are optional, you do not need to configure wireless LAN.</p> <p>Close the Advanced Settings and click the &quot;Write&quot; button.</p> <h3 id="setting-up-the-raspberry-pi"><a href="#setting-up-the-raspberry-pi" class="header-anchor">#</a> Setting up the Raspberry Pi</h3> <p>Once the image is written to the SD card, you can eject it and insert it into the Raspberry Pi.
Connect the SSD and network cable to the Raspberry Pi.
At last, connect the power cable ­— this starts the boot process.
It should boot up and get an IP address using DHCP.</p> <p>Login to the Raspberry Pi using the credentials you configured in the Raspberry Pi Imager:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> btcpay@btcpay.local
</code></pre></div><p>Confirm the <code>Are you sure you want to continue connecting?</code> question with <code>yes</code></p> <p>If your Raspberry Pi cannot be found by the <code>btcpay.local</code> address, you will need to login to your router to find its IP address.
The IP address that my Raspberry Pi got was <code>192.168.1.5</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> btcpay@192.168.1.5
</code></pre></div><p>Switch to the <code>root</code> user:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
</code></pre></div><p>Afterwards, you can choose between <a href="https://github.com/lightningnetwork/lnd" target="_blank" rel="noopener noreferrer">LND<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/ElementsProject/lightning" target="_blank" rel="noopener noreferrer">Core Lightning<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for your Lightning node.</p> <p><strong>Required:</strong> Choose one of the following …</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Core Lightning</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_LIGHTNING</span><span class="token operator">=</span><span class="token string">&quot;clightning&quot;</span>

<span class="token comment"># LND</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_LIGHTNING</span><span class="token operator">=</span><span class="token string">&quot;lnd&quot;</span>
</code></pre></div><p><strong>Optional:</strong> You can also configure <a href="/Docker/#environment-variables">additional settings</a> …</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># optional, this is just an example for runing a pruned node on a public domain</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_ADDITIONAL_FRAGMENTS</span><span class="token operator">=</span><span class="token string">&quot;opt-save-storage&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_ADDITIONAL_HOSTS</span><span class="token operator">=</span><span class="token string">&quot;btcpay.YourDomain.com&quot;</span>
</code></pre></div><p>Download and run the install script:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -O btcpayserver-install.sh https://raw.githubusercontent.com/btcpayserver/btcpayserver-doc/master/scripts/btcpayserver-rpi4-install.sh
<span class="token function">chmod</span> +x btcpayserver-install.sh
<span class="token builtin class-name">.</span> btcpayserver-install.sh
</code></pre></div><p>After the initial setup is complete open a browser on another computer and go to <code>btcpay.local</code>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Your installation is done and your node should have started synching.
For a Bitcoin full node the initial block download takes approximately 40 hours after install.</p></div> <p>If you are curious, here are the details of what the installation scripts above do …</p> <h2 id="detailed-step-by-step-instructions"><a href="#detailed-step-by-step-instructions" class="header-anchor">#</a> Detailed Step by Step Instructions</h2> <p>These are the steps that follow after the general setup process outlined in the <a href="#quickstart">quickstart instructions</a>.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>The following steps require you to be the root user.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
</code></pre></div></div> <h3 id="upgrade-the-os-packages-to-latest"><a href="#upgrade-the-os-packages-to-latest" class="header-anchor">#</a> Upgrade the OS packages to latest</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade -y <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> autoremove
</code></pre></div><h3 id="configuring-the-storage"><a href="#configuring-the-storage" class="header-anchor">#</a> Configuring the storage</h3> <p>We recommend to disable swap to prevent burning out your SD card:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>dphys-swapfile swapoff
dphys-swapfile uninstall
update-rc.d dphys-swapfile remove
systemctl disable dphys-swapfile
</code></pre></div><p>Partition your SSD:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> /dev/sda
<span class="token comment"># type 'p' to list existing partitions</span>
<span class="token comment"># type 'd' to delete currently selected partitions</span>
<span class="token comment"># type 'n' to create a new partition</span>
<span class="token comment"># type 'w' to write the new partition table and exit fdisk</span>
</code></pre></div><p>Format the new partition on your SSD:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mkfs.ext4 /dev/sda1
</code></pre></div><p>Configure the SSD partition to auto-mount at bootup:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mkfs.ext4 /dev/sda1
<span class="token function">mkdir</span> /mnt/usb
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> blkid -s UUID -o value /dev/sda1<span class="token variable">)</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;UUID=<span class="token variable">$UUID</span> /mnt/usb ext4 defaults,noatime,nofail 0 0&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/fstab
<span class="token function">mount</span> -a
</code></pre></div><p>While you’re editing <code>/etc/fstab</code> add a RAM filesystem for logs (optional).
This is also to prevent burning out your SD card too quickly:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'none /var/log tmpfs size=10M,noatime 0 0'</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
</code></pre></div><h3 id="install-docker"><a href="#install-docker" class="header-anchor">#</a> Install Docker</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> gnupg lsb-release -y
<span class="token function">curl</span> -fsSL https://download.docker.com/linux/debian/gpg <span class="token operator">|</span> gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \
  <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable&quot;</span> <span class="token operator">|</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
<span class="token function">apt</span> update
<span class="token function">apt</span> -y <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre></div><h3 id="create-mount-for-docker-volumes"><a href="#create-mount-for-docker-volumes" class="header-anchor">#</a> Create mount for Docker volumes</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> -rf /var/lib/docker
<span class="token function">mkdir</span> -p /var/lib/docker
<span class="token function">mount</span> --bind /mnt/usb /var/lib/docker
<span class="token builtin class-name">echo</span> <span class="token string">&quot;/mnt/usb /var/lib/docker none bind,nobootwait 0 2&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
systemctl restart <span class="token function">docker</span>
</code></pre></div><h3 id="configuring-the-firewall"><a href="#configuring-the-firewall" class="header-anchor">#</a> Configuring the firewall</h3> <p>Install a firewall and allow SSH, HTTP, HTTPS, Bitcoin, and Lightning:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> -y ufw
ufw default deny incoming
ufw default allow outgoing
</code></pre></div><p>This command allows SSH connections from internal networks only:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ufw allow from <span class="token number">10.0</span>.0.0/8 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">172.16</span>.0.0/12 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">192.168</span>.0.0/16 to any port <span class="token number">22</span> proto tcp
ufw allow from <span class="token number">169.254</span>.0.0/16 to any port <span class="token number">22</span> proto tcp
ufw allow from fc00::/7 to any port <span class="token number">22</span> proto tcp
ufw allow from fe80::/10 to any port <span class="token number">22</span> proto tcp
ufw allow from ff00::/8 to any port <span class="token number">22</span> proto tcp
</code></pre></div><p>These ports need to be accessible from anywhere (The default subnet is 'any' unless you specify one):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ufw allow <span class="token number">80</span>/tcp
ufw allow <span class="token number">443</span>/tcp
ufw allow <span class="token number">8333</span>/tcp
ufw allow <span class="token number">9735</span>/tcp

<span class="token comment"># Enable the firewall</span>
ufw <span class="token builtin class-name">enable</span>

<span class="token comment"># Verify the configuration</span>
ufw status
</code></pre></div><h3 id="setup-btcpay-server"><a href="#setup-btcpay-server" class="header-anchor">#</a> Setup BTCPay Server</h3> <p>Download BTCPay Server from GitHub:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token comment"># ensure we are in root home</span>
<span class="token function">apt</span> <span class="token function">install</span> -y fail2ban <span class="token function">git</span>
<span class="token function">git</span> clone https://github.com/btcpayserver/btcpayserver-docker
<span class="token builtin class-name">cd</span> btcpayserver-docker
</code></pre></div><p>Configure BTCPay by setting some <a href="https://github.com/btcpayserver/btcpayserver-docker#environment-variables" target="_blank" rel="noopener noreferrer">environment variables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_HOST</span><span class="token operator">=</span><span class="token string">&quot;btcpay.local&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">REVERSEPROXY_DEFAULT_HOST</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$BTCPAY_HOST</span>&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NBITCOIN_NETWORK</span><span class="token operator">=</span><span class="token string">&quot;mainnet&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_CRYPTO1</span><span class="token operator">=</span><span class="token string">&quot;btc&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_LIGHTNING</span><span class="token operator">=</span><span class="token string">&quot;clightning&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_REVERSEPROXY</span><span class="token operator">=</span><span class="token string">&quot;nginx&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAYGEN_ADDITIONAL_FRAGMENTS</span><span class="token operator">=</span><span class="token string">&quot;opt-more-memory&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_ENABLE_SSH</span><span class="token operator">=</span>true
</code></pre></div><p>If you want to use multiple hostnames, add them via the optional <code>BTCPAY_ADDITIONAL_HOSTS</code> variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">BTCPAY_ADDITIONAL_HOSTS</span><span class="token operator">=</span><span class="token string">&quot;btcpay.YourDomain.com&quot;</span>
</code></pre></div><p>In case you want to restrict access to your local network only, please note that you need to use a <code>.local</code> domain.</p> <p>Run the BTCPay installation:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span> ./btcpay-setup.sh -i
</code></pre></div><p>It should be up and running within a few minutes. Try opening http://btcpay.local in your web browser. If everything is correct, you will see BTCPay Server front page.</p> <p>Now, you just need to wait a day or so for the Bitcoin blockchain to <a href="/FAQ/Synchronization/">sync and full verify</a>. The bottom of the BTCPay Server web GUI will show a pop-up dialog box to monitor the progress.</p> <h3 id="fastsync-optional"><a href="#fastsync-optional" class="header-anchor">#</a> FastSync (optional)</h3> <p>Please read very carefully to understand what <a href="/Docker/fastsync/">FastSync</a> is and why it is important to verify the UTXO set yourself.</p> <p>By using FastSync, you are exposing yourself to attacks if a <a href="https://github.com/btcpayserver/btcpayserver-docker/blob/master/contrib/FastSync/README.md#what-are-the-downsides-of-fast-sync" target="_blank" rel="noopener noreferrer">malicious UTXO set snapshot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is sent to you.
If you have another trusted node somewhere else, you can check the validity of the UTXO set gathered by FastSync by following <a href="https://github.com/btcpayserver/btcpayserver-docker/blob/master/contrib/FastSync/README.md#dont-trust-verify" target="_blank" rel="noopener noreferrer">these instructions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Stop BTCPay Server</span>
<span class="token builtin class-name">cd</span> /root/btcpayserver/btcpayserver-docker
./btcpay-down.sh

<span class="token comment"># Import FastSync UTXO set</span>
<span class="token builtin class-name">cd</span> contrib/FastSync
./load-utxo-set.sh
</code></pre></div><p>FastSync currently takes about 30 minutes on a high-speed internet connection.
After FastSync finishes, run the following command to restart BTCPay Server:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>
./btcpay-up.sh
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/edit/master/docs/Deployment/RaspberryPi4.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/issues/new?title=Improve%20Raspberry%20Pi%20Deployment&amp;body=I%20could%20not%20find%20the%20information%20I%20was%20looking%20for%20on%20the%20%22Raspberry%20Pi%20Deployment%22%20page%20(%60%2FDeployment%2FRaspberryPi4%2F%60).%0A%0A%5BPLEASE%20DESCRIBE%20HOW%20THE%20PAGE%20CAN%20BE%20IMPROVED%5D&amp;labels=question" target="_blank" rel="noopener noreferrer">Didn't find an answer?</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Deployment/GoogleCloud/" class="prev">
        Google Cloud
      </a></span> <span class="next"><a href="/Deployment/Hack0/">
        Hack0 Deployment
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4530df45.js" defer></script><script src="/assets/js/3.4f87bb5f.js" defer></script><script src="/assets/js/15.cc918b98.js" defer></script><script src="/assets/js/47.fac59f4d.js" defer></script>
  </body>
</html>
