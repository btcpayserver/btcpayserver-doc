<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joomla VirtueMart integration | BTCPay Server</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="/styles/btcpayserver-variables.css">
    <meta name="description" content="How to integrate BTCPay Server into your Joomla VirtueMart store.">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.5d7f2299.css" as="style"><link rel="preload" href="/assets/js/app.8cd13af2.js" as="script"><link rel="preload" href="/assets/js/2.8fe28a32.js" as="script"><link rel="preload" href="/assets/js/15.19297503.js" as="script"><link rel="prefetch" href="/assets/js/1.9d6ef227.js"><link rel="prefetch" href="/assets/js/100.c79162dd.js"><link rel="prefetch" href="/assets/js/101.c3b8f3b4.js"><link rel="prefetch" href="/assets/js/102.17c91d36.js"><link rel="prefetch" href="/assets/js/103.23386040.js"><link rel="prefetch" href="/assets/js/104.6730cc02.js"><link rel="prefetch" href="/assets/js/105.d3209387.js"><link rel="prefetch" href="/assets/js/106.97308107.js"><link rel="prefetch" href="/assets/js/107.b9fdf202.js"><link rel="prefetch" href="/assets/js/108.3399eb6a.js"><link rel="prefetch" href="/assets/js/109.22b27785.js"><link rel="prefetch" href="/assets/js/110.fba59160.js"><link rel="prefetch" href="/assets/js/111.424295b7.js"><link rel="prefetch" href="/assets/js/112.fdef2d76.js"><link rel="prefetch" href="/assets/js/113.95e0e20c.js"><link rel="prefetch" href="/assets/js/114.b2aa63c2.js"><link rel="prefetch" href="/assets/js/115.3b7d4a59.js"><link rel="prefetch" href="/assets/js/116.ffe3fe6f.js"><link rel="prefetch" href="/assets/js/117.78ce5d85.js"><link rel="prefetch" href="/assets/js/118.a591cf09.js"><link rel="prefetch" href="/assets/js/119.2ed902a2.js"><link rel="prefetch" href="/assets/js/12.65746514.js"><link rel="prefetch" href="/assets/js/120.99a6b3e4.js"><link rel="prefetch" href="/assets/js/121.b11ba835.js"><link rel="prefetch" href="/assets/js/122.9b7f7770.js"><link rel="prefetch" href="/assets/js/123.5249d9cf.js"><link rel="prefetch" href="/assets/js/124.3bd805b5.js"><link rel="prefetch" href="/assets/js/125.1abef3b1.js"><link rel="prefetch" href="/assets/js/126.03474fce.js"><link rel="prefetch" href="/assets/js/127.8751855f.js"><link rel="prefetch" href="/assets/js/128.ddd96668.js"><link rel="prefetch" href="/assets/js/129.61159920.js"><link rel="prefetch" href="/assets/js/13.e6a2c1b4.js"><link rel="prefetch" href="/assets/js/130.200d2fd4.js"><link rel="prefetch" href="/assets/js/131.946e6714.js"><link rel="prefetch" href="/assets/js/132.5ca5fd67.js"><link rel="prefetch" href="/assets/js/133.bacdd991.js"><link rel="prefetch" href="/assets/js/134.34e8d418.js"><link rel="prefetch" href="/assets/js/135.5a60d9cc.js"><link rel="prefetch" href="/assets/js/136.f02caa03.js"><link rel="prefetch" href="/assets/js/137.fd49c922.js"><link rel="prefetch" href="/assets/js/138.ac76505d.js"><link rel="prefetch" href="/assets/js/139.2d08ba15.js"><link rel="prefetch" href="/assets/js/14.67dedfd2.js"><link rel="prefetch" href="/assets/js/140.a7e34fe5.js"><link rel="prefetch" href="/assets/js/141.43fa5192.js"><link rel="prefetch" href="/assets/js/142.df1b9171.js"><link rel="prefetch" href="/assets/js/143.294930a2.js"><link rel="prefetch" href="/assets/js/144.b882a34a.js"><link rel="prefetch" href="/assets/js/145.74d2cd41.js"><link rel="prefetch" href="/assets/js/146.869b808f.js"><link rel="prefetch" href="/assets/js/147.51b0a418.js"><link rel="prefetch" href="/assets/js/148.a1202429.js"><link rel="prefetch" href="/assets/js/149.8b9d58c4.js"><link rel="prefetch" href="/assets/js/150.9c828561.js"><link rel="prefetch" href="/assets/js/151.60106cd1.js"><link rel="prefetch" href="/assets/js/152.2e3e376e.js"><link rel="prefetch" href="/assets/js/153.4024f98d.js"><link rel="prefetch" href="/assets/js/154.a7995f2c.js"><link rel="prefetch" href="/assets/js/155.2c5b5843.js"><link rel="prefetch" href="/assets/js/156.2f531b51.js"><link rel="prefetch" href="/assets/js/157.ada1660d.js"><link rel="prefetch" href="/assets/js/158.815b0da0.js"><link rel="prefetch" href="/assets/js/159.fd6a8fed.js"><link rel="prefetch" href="/assets/js/16.e220db45.js"><link rel="prefetch" href="/assets/js/160.41d38d10.js"><link rel="prefetch" href="/assets/js/161.aea0fa85.js"><link rel="prefetch" href="/assets/js/162.ba38fe61.js"><link rel="prefetch" href="/assets/js/163.cc386a6f.js"><link rel="prefetch" href="/assets/js/164.a23f57e9.js"><link rel="prefetch" href="/assets/js/165.c1da5406.js"><link rel="prefetch" href="/assets/js/166.0e93932f.js"><link rel="prefetch" href="/assets/js/167.6ec3c087.js"><link rel="prefetch" href="/assets/js/168.9b22287b.js"><link rel="prefetch" href="/assets/js/169.80f1d46a.js"><link rel="prefetch" href="/assets/js/17.cdae3c87.js"><link rel="prefetch" href="/assets/js/170.8d782a38.js"><link rel="prefetch" href="/assets/js/171.7293cfd3.js"><link rel="prefetch" href="/assets/js/172.4697e4be.js"><link rel="prefetch" href="/assets/js/173.0cb0fb0c.js"><link rel="prefetch" href="/assets/js/174.131d36db.js"><link rel="prefetch" href="/assets/js/18.d5bd9b63.js"><link rel="prefetch" href="/assets/js/19.6225492e.js"><link rel="prefetch" href="/assets/js/20.803596f9.js"><link rel="prefetch" href="/assets/js/21.7cc284ba.js"><link rel="prefetch" href="/assets/js/22.f2c6d547.js"><link rel="prefetch" href="/assets/js/23.8722e3de.js"><link rel="prefetch" href="/assets/js/24.a4162e84.js"><link rel="prefetch" href="/assets/js/25.44cf8e10.js"><link rel="prefetch" href="/assets/js/26.5b69a7bb.js"><link rel="prefetch" href="/assets/js/27.38ff8707.js"><link rel="prefetch" href="/assets/js/28.b003ac0c.js"><link rel="prefetch" href="/assets/js/29.77deb6aa.js"><link rel="prefetch" href="/assets/js/3.e79b49ee.js"><link rel="prefetch" href="/assets/js/30.057d8f69.js"><link rel="prefetch" href="/assets/js/31.75e39bc2.js"><link rel="prefetch" href="/assets/js/32.3ae9c0b7.js"><link rel="prefetch" href="/assets/js/33.19780104.js"><link rel="prefetch" href="/assets/js/34.9cdd9aa7.js"><link rel="prefetch" href="/assets/js/35.c0d3795c.js"><link rel="prefetch" href="/assets/js/36.35cbbdad.js"><link rel="prefetch" href="/assets/js/37.d90f85a9.js"><link rel="prefetch" href="/assets/js/38.b988e70c.js"><link rel="prefetch" href="/assets/js/39.b2555a29.js"><link rel="prefetch" href="/assets/js/4.36b1967c.js"><link rel="prefetch" href="/assets/js/40.e164570e.js"><link rel="prefetch" href="/assets/js/41.f1b387b6.js"><link rel="prefetch" href="/assets/js/42.8036dbbd.js"><link rel="prefetch" href="/assets/js/43.783cc57a.js"><link rel="prefetch" href="/assets/js/44.0d5c2121.js"><link rel="prefetch" href="/assets/js/45.01dcc527.js"><link rel="prefetch" href="/assets/js/46.d2176325.js"><link rel="prefetch" href="/assets/js/47.d86abe24.js"><link rel="prefetch" href="/assets/js/48.65cdcd3f.js"><link rel="prefetch" href="/assets/js/49.9cbd64fa.js"><link rel="prefetch" href="/assets/js/5.0165a0f6.js"><link rel="prefetch" href="/assets/js/50.aa2dc21e.js"><link rel="prefetch" href="/assets/js/51.36fedd77.js"><link rel="prefetch" href="/assets/js/52.c50a00ca.js"><link rel="prefetch" href="/assets/js/53.8a8356a1.js"><link rel="prefetch" href="/assets/js/54.b1e6c348.js"><link rel="prefetch" href="/assets/js/55.6440a4c7.js"><link rel="prefetch" href="/assets/js/56.f4cedb37.js"><link rel="prefetch" href="/assets/js/57.10e5602c.js"><link rel="prefetch" href="/assets/js/58.52a61bef.js"><link rel="prefetch" href="/assets/js/59.7fc09998.js"><link rel="prefetch" href="/assets/js/6.d7ee0d84.js"><link rel="prefetch" href="/assets/js/60.900dc55a.js"><link rel="prefetch" href="/assets/js/61.e18e059f.js"><link rel="prefetch" href="/assets/js/62.fed3f435.js"><link rel="prefetch" href="/assets/js/63.19e9c845.js"><link rel="prefetch" href="/assets/js/64.968cd558.js"><link rel="prefetch" href="/assets/js/65.9d493b89.js"><link rel="prefetch" href="/assets/js/66.63f8b22a.js"><link rel="prefetch" href="/assets/js/67.35abde9f.js"><link rel="prefetch" href="/assets/js/68.b19718e4.js"><link rel="prefetch" href="/assets/js/69.784130ff.js"><link rel="prefetch" href="/assets/js/7.5c6d70b7.js"><link rel="prefetch" href="/assets/js/70.76560bf2.js"><link rel="prefetch" href="/assets/js/71.90d7a318.js"><link rel="prefetch" href="/assets/js/72.9fabfbf5.js"><link rel="prefetch" href="/assets/js/73.3155350a.js"><link rel="prefetch" href="/assets/js/74.13c7ab3f.js"><link rel="prefetch" href="/assets/js/75.5778eccf.js"><link rel="prefetch" href="/assets/js/76.2220d2c7.js"><link rel="prefetch" href="/assets/js/77.5059ed92.js"><link rel="prefetch" href="/assets/js/78.966a2525.js"><link rel="prefetch" href="/assets/js/79.25562339.js"><link rel="prefetch" href="/assets/js/8.d2844ce5.js"><link rel="prefetch" href="/assets/js/80.96ee717d.js"><link rel="prefetch" href="/assets/js/81.83ce58f7.js"><link rel="prefetch" href="/assets/js/82.f90c04bb.js"><link rel="prefetch" href="/assets/js/83.01d7b5a1.js"><link rel="prefetch" href="/assets/js/84.50dd449e.js"><link rel="prefetch" href="/assets/js/85.6cf07cf2.js"><link rel="prefetch" href="/assets/js/86.13f9c0e2.js"><link rel="prefetch" href="/assets/js/87.25a7d824.js"><link rel="prefetch" href="/assets/js/88.2ba5ae7b.js"><link rel="prefetch" href="/assets/js/89.10409f4d.js"><link rel="prefetch" href="/assets/js/9.bfee9ed7.js"><link rel="prefetch" href="/assets/js/90.1fdf22eb.js"><link rel="prefetch" href="/assets/js/91.4c3d65be.js"><link rel="prefetch" href="/assets/js/92.78163044.js"><link rel="prefetch" href="/assets/js/93.38a2de67.js"><link rel="prefetch" href="/assets/js/94.409a6e46.js"><link rel="prefetch" href="/assets/js/95.56d85832.js"><link rel="prefetch" href="/assets/js/96.6f271e06.js"><link rel="prefetch" href="/assets/js/97.821cec9f.js"><link rel="prefetch" href="/assets/js/98.766af684.js"><link rel="prefetch" href="/assets/js/99.cee50605.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.af9abd7a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7f2299.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/btcpay-logo.svg" alt="BTCPay Server" class="logo"> <span class="site-name can-hide">BTCPay Server</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <button type="button" class="btcpay-theme-switch"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path transform="translate(1 1)" d="M2.72 0A3.988 3.988 0 000 3.78c0 2.21 1.79 4 4 4 1.76 0 3.25-1.14 3.78-2.72-.4.13-.83.22-1.28.22-2.21 0-4-1.79-4-4 0-.45.08-.88.22-1.28z" class="btcpay-theme-switch-dark"></path><path transform="translate(1 1)" d="M4 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 0 4 0zM1.5 1c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM.5 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM1.5 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 7 4 7z" class="btcpay-theme-switch-light"></path></svg></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Learn</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Guide/" class="sidebar-link">Introduction</a></li><li><a href="/TryItOut/" class="sidebar-link">Try it out</a></li><li><a href="/Walkthrough/" class="sidebar-link">Walkthrough</a></li><li><a href="/UseCase/" class="sidebar-link">Use Case</a></li><li><a href="/BTCPayVsOthers/" class="sidebar-link">BTCPay Server vs. Others</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/RegisterAccount/" class="sidebar-link">(1) Register account</a></li><li><a href="/CreateStore/" class="sidebar-link">(2) Create a store</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/WalletSetup" class="sidebar-heading clickable"><span>(3) Wallet Setup</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ConnectWallet/" class="sidebar-link">Connect Wallet</a></li><li><a href="/CreateWallet/" class="sidebar-link">Create Wallet</a></li><li><a href="/LightningNetwork/" class="sidebar-link">Lightning Network</a></li></ul></section></li><li><a href="/WhatsNext/" class="sidebar-link">(4) What's Next?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Features</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Dashboard/" class="sidebar-link">Dashboard</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Wallet" class="sidebar-heading clickable"><span>Wallet</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Invoices/" class="sidebar-link">Invoices</a></li><li><a href="/Translations/" class="sidebar-link">Translations</a></li><li><a href="/PaymentRequests/" class="sidebar-link">Payment Requests</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/PullPayments" class="sidebar-heading clickable"><span>Pull Payments</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Payouts/" class="sidebar-link">Payouts</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Forms" class="sidebar-heading clickable"><span>Form Builder</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Apps" class="sidebar-heading clickable"><span>Apps</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Reporting/" class="sidebar-link">Reporting</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Payjoin" class="sidebar-heading clickable"><span>Payjoin</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BigCommerce/" class="sidebar-link">Big Commerce</a></li><li><a href="/Drupal/" class="sidebar-link">Drupal</a></li><li><a href="/Grandnode/" class="sidebar-link">Grandnode</a></li><li><a href="/InvoiceNinja/" class="sidebar-link">Invoice Ninja</a></li><li><a href="/Magento/" class="sidebar-link">Magento</a></li><li><a href="/Nopcommerce/" class="sidebar-link">Nopcommerce</a></li><li><a href="/Odoo/" class="sidebar-link">Odoo</a></li><li><a href="/OpenCart/" class="sidebar-link">OpenCart</a></li><li><a href="/PhocaCart/" class="sidebar-link">PhocaCart</a></li><li><a href="/PrestaShop/" class="sidebar-link">PrestaShop</a></li><li><a href="/Shopify/" class="sidebar-link">Shopify</a></li><li><a href="/ShopifyV2/" class="sidebar-link">Shopify V2</a></li><li><a href="/Shopware/" class="sidebar-link">Shopware</a></li><li><a href="/Smartstore/" class="sidebar-link">Smartstore</a></li><li><a href="/VirtueMart/" aria-current="page" class="active sidebar-link">VirtueMart</a></li><li><a href="/Wix/" class="sidebar-link">Wix</a></li><li><a href="/WooCommerce/" class="sidebar-link">WooCommerce</a></li><li><a href="/Xenforo/" class="sidebar-link">Xenforo</a></li><li><a href="/Zapier/" class="sidebar-link">Zapier</a></li><li><a href="/CustomIntegration/" class="sidebar-link">Custom Integration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Plugins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://dev.blink.sv/examples/btcpayserver-plugin" target="_blank" rel="noopener noreferrer" class="sidebar-link">Blink<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/Breez/" class="sidebar-link">Breez</a></li><li><a href="/Bringin/" class="sidebar-link">Bringin</a></li><li><a href="/DynamicReports/" class="sidebar-link">Dynamic Reports</a></li><li><a href="/LNDhubAPI/" class="sidebar-link">LNDhub API</a></li><li><a href="/Nostr/" class="sidebar-link">Nostr</a></li><li><a href="/Payroll/" class="sidebar-link">Payroll</a></li><li><a href="/PodServer/" class="sidebar-link">PodServer</a></li><li><a href="/SideShift/" class="sidebar-link">SideShift</a></li><li><a href="/TicketTailor/" class="sidebar-link">TicketTailor</a></li><li><a href="/Trocador/" class="sidebar-link">Trocador</a></li><li><a href="/Wabisabi/" class="sidebar-link">Wabisabi Coinjoin</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Support and Community</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Troubleshooting/" class="sidebar-link">Troubleshooting an issue</a></li><li><a href="/Support/" class="sidebar-link">Support</a></li><li><a href="/Community/" class="sidebar-link">Community</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="joomla-virtuemart-integration"><a href="#joomla-virtuemart-integration" class="header-anchor">#</a> Joomla VirtueMart integration</h1> <p>This document explains how to <strong>integrate BTCPay Server into your Joomla VirtueMart store</strong>.
Watch the video below to go along the document |</p> <a href="https://youtu.be/k7XfybLAky0" title="BTCPay Server - Joomla VirtueMart" data-id="k7XfybLAky0" class="ytEmbed" style="background-image:url(https://img.youtube.com/vi/k7XfybLAky0/hqdefault.jpg);"><iframe title="BTCPay Server - Joomla VirtueMart" data-src="https://www.youtube-nocookie.com/embed/k7XfybLAky0?&amp;autoplay=1&amp;autohide=1&amp;modestbranding=1&amp;color=white&amp;rel=0" frameborder="0" allow="autoplay;encrypted-media;picture-in-picture" allowfullscreen="allowfullscreen"></iframe></a> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <p>Please ensure that you meet the following requirements before installing this plugin.</p> <ul><li>PHP version 7.4 or newer</li> <li>The curl, gd, intl, json, and mbstring PHP extensions are available</li> <li>A VirtueMart 3 / 4 store (<a href="https://www.virtuemart.net/downloads" target="_blank" rel="noopener noreferrer">Download and installation instructions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li> <li>You have a BTCPay Server version 1.3.0 or later, either <a href="/Deployment/">self-hosted</a> or <a href="/Deployment/ThirdPartyHosting/">hosted by a third-party</a></li> <li><a href="/RegisterAccount/">You've a registered account on the instance</a></li> <li><a href="/CreateStore/">You've a BTCPay store on the instance</a></li> <li><a href="/WalletSetup/">You've a wallet connected to your store</a></li></ul> <h2 id="1-install-btcpay-plugin"><a href="#1-install-btcpay-plugin" class="header-anchor">#</a> 1. Install BTCPay Plugin</h2> <p>There are three ways to <strong>download BTCPay for VirtueMart plugin</strong>:</p> <ul><li>Via the Admin Dashboard (recommended, see below)</li> <li><a href="https://extensions.joomla.org/extension/vm-payment-btcpay-for-virtuemart/" target="_blank" rel="noopener noreferrer">Joomla Extension Directory (JED)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/btcpayserver/joomla-virtuemart/releases" target="_blank" rel="noopener noreferrer">GitHub Repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="11-install-plugin-from-joomla-admin-dashboard-recommended"><a href="#11-install-plugin-from-joomla-admin-dashboard-recommended" class="header-anchor">#</a> 1.1 Install plugin from Joomla Admin Dashboard (recommended)</h3> <ol><li>Menu: Extensions &gt; Manage &gt; Install</li> <li>On &quot;Install from Web&quot; tab search for &quot;btcpay&quot;</li> <li>Click on BTCPay for VirtueMart and [Install] button</li> <li>Continue with step 1.3</li></ol> <figure><img src="/assets/img/btcpay-vm--01-install-web.4d28e0bd.png" alt="BTCPay Virtuemart: Plugin installation web" title="BTCPay Virtuemart: Plugin installation web"></figure> <h3 id="12-download-and-install-plugin-from-jed-or-github"><a href="#12-download-and-install-plugin-from-jed-or-github" class="header-anchor">#</a> 1.2 Download and install plugin from JED or GitHub</h3> <ol><li>Download the latest BTCPay plugin from <a href="https://github.com/btcpayserver/joomla-virtuemart/releases" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://extensions.joomla.org/extension/vm-payment-btcpay-for-virtuemart/" target="_blank" rel="noopener noreferrer">JED<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Menu: Extensions -&gt; Manage -&gt; Install</li> <li>On tab &quot;Upload Package File&quot; upload the <code>btcpayvm.zip</code></li></ol> <figure><img src="/assets/img/btcpay-vm--02-install-upload.8972740d.png" alt="BTCPay Virtuemart: Plugin installation upload" title="BTCPay Virtuemart: Plugin installation upload"></figure> <h3 id="13-enable-the-plugin"><a href="#13-enable-the-plugin" class="header-anchor">#</a> 1.3 Enable the plugin</h3> <ol><li>Menu: Extensions -&gt; Plugins</li> <li>Search for &quot;btcpay&quot;</li> <li>On &quot;Status&quot; column click the red circle to enable the plugin</li></ol> <figure><img src="/assets/img/btcpay-vm--03-enable-plugin.1b4a6c9f.png" alt="BTCPay Virtuemart: Enable plugin" title="BTCPay Virtuemart: Enable plugin"></figure> <h2 id="2-connecting-virtuemart-and-btcpay-server"><a href="#2-connecting-virtuemart-and-btcpay-server" class="header-anchor">#</a> 2. Connecting VirtueMart and BTCPay Server</h2> <p>BTCPay for Virtuemart plugin is a <strong>bridge between your BTCPay Server (payment processor) and your e-commerce store</strong>.
No matter if you're using a self-hosted or third-party solution, the connection process is identical.</p> <h3 id="21-add-btcpay-payment-gateway-in-virtuemart"><a href="#21-add-btcpay-payment-gateway-in-virtuemart" class="header-anchor">#</a> 2.1 Add BTCPay payment gateway in VirtueMart</h3> <ol><li>Menu: VirtueMart -&gt; Payment Methods</li> <li>Click button <strong>[New]</strong> <img src="/assets/img/btcpay-vm--04-add-new-payment-method.e5a94ee3.png" alt="BTCPay Virtuemart: Add new payment method" title="BTCPay Virtuemart: Add new payment method"></li> <li>Configure the payment method according to your needs. Make sure on &quot;Payment Method&quot; dropdown you have &quot;BTCPay for VirtueMart&quot; selected and the payment method is published <img src="/assets/img/btcpay-vm--05-payment-method-details.adf89c97.png" alt="BTCPay Virtuemart: Payment method details" title="BTCPay Virtuemart: Payment method details"></li> <li>Hit the <strong>[Save]</strong> button (the plugin table will get created)</li></ol> <p>Now you can switch to the &quot;Configuration&quot; tab where we can connect to our BTCPay Server instance. First we need to create an API key.</p> <figure><img src="/assets/img/btcpay-vm--06-payment-method-configuration-tab.45617db0.png" alt="BTCPay Virtuemart: Payment method configuration tab" title="BTCPay Virtuemart: Payment method configuration tab"></figure> <h3 id="22-create-an-api-key-and-configure-permissions"><a href="#22-create-an-api-key-and-configure-permissions" class="header-anchor">#</a> 2.2 Create an API key and configure permissions</h3> <p>On BTCPay Server instance:</p> <ol><li>Click on <em>[Account]</em></li> <li>Click on <em>[Manage Account]</em> <img src="/assets/img/btcpay-vm--07-account-manage.d477b8b4.png" alt="BTCPay Joomla VirtueMart: Manage Account" title="BTCPay Joomla VirtueMart: Manage Account"></li> <li>Go to the tab <em>&quot;API Keys&quot;</em></li> <li>Click <em>[Generate Key]</em> to select permissions.
<img src="/assets/img/btcpay-vm--08-add-api-key.a58b2941.png" alt="BTCPay Joomla VirtueMart: API Keys overview" title="BTCPay Joomla VirtueMart: API Keys overview"></li> <li>Add a label. <strong>Important:</strong> click on the <em>&quot;Select specific stores&quot;</em> link for the following permissions: <code>View invoices</code>, <code>Create invoice</code>, <code>Modify invoices</code>, <code>Modify stores webhooks</code>, <code>View your stores</code> and select the specific store you created for your VirtueMart site. It should look like when everything is set:
<img src="/assets/img/btcpay-vm--09-permissions-and-select-store.9ccef388.png" alt="BTCPay Joomla VirtueMart: API Keys Permissions" title="BTCPay Joomla VirtueMart: API Keys Permissions"></li> <li>Click on <em>[Generate API Key]</em> <img src="/assets/img/btcpay-vm--10-permissions-set.74d76936.png" alt="BTCPay Joomla VirtueMart: API Keys Save" title="BTCPay Joomla VirtueMart: API Keys Save"></li> <li>Copy the generated API Key to your <em>VirtueMart BTCPay Payment Method Settings</em> form
<img src="/assets/img/btcpay-vm--11-copy-api-key.94be9878.png" alt="BTCPay Joomla VirtueMart: Copy API Key" title="BTCPay Joomla VirtueMart: Copy API Key"></li> <li>Go to Settings and copy the store ID to your <em>VirtueMart BTCPay Payment Method Settings</em> form
<img src="/assets/img/btcpay-vm--12-copy-store-id.84c19f9f.png" alt="BTCPay Joomla VirtueMart: Copy Store ID" title="BTCPay Joomla VirtueMart: Copy Store ID"></li> <li>On the <em>VirtueMart BTCPay Payment Method Settings</em> form make sure <strong>BTPCay Server URL</strong>, <strong>API Key</strong> and <strong>Store ID</strong> are set and click <strong>[Save]</strong> <img src="/assets/img/btcpay-vm--13-save-vm-payment-method-form.0a3e52bd.png" alt="BTCPay Joomla VirtueMart: Save VirtueMart Settings form" title="BTCPay Joomla VirtueMart: Save VirtueMart Settings form"></li></ol> <h3 id="23-create-a-webhook-on-btcpay-server"><a href="#23-create-a-webhook-on-btcpay-server" class="header-anchor">#</a> 2.3 Create a webhook on BTCPay Server</h3> <p>Setting up a webhook is important that your gets updates on invoice status changes from BTCPay Server.</p> <ol><li><p>On BTCPay Server instance go to your store settings, tab <strong>[Webhooks]</strong>, click <strong>[Create Webhook]</strong> <img src="/assets/img/btcpay-vm--14-create-webhook.1b6e4881.png" alt="BTCPay Joomla VirtueMart: Create webhook" title="BTCPay Joomla VirtueMart: Create webhook"></p></li> <li><p>From <em>VirtueMart BTCPay Payment Method Settings</em> copy the <strong>Webhook callback URL</strong> to webhook settings <strong>Payload URL</strong>.
<img src="/assets/img/btcpay-vm--15-webhook-payload-url.37a4f55f.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></p></li> <li><p>On webhook settings click on the eye to reveal webhook secret. Copy that secret to your <em>VirtueMart BTCPay Payment Method Settings</em> form <strong>Webhook Secret</strong> input and <strong>[Save]</strong> the VirtueMart configuration again.
<img src="/assets/img/btcpay-vm--16-webhook-copy-secret.71b0dd07.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"> <img src="/assets/img/btcpay-vm--16-virtuemart-configuration-save.ee549862.png" alt="BTCPay Joomla VirtueMart: Webhook VM save configuration" title="BTCPay Joomla VirtueMart: Webhook VM save configuration"></p></li> <li><p>Back on webhook settings, enable <strong>Automatic redelivery</strong> and click <strong>[Add webhook]</strong> to save the webhook.
<img src="/assets/img/btcpay-vm--17-webhook-save.dfd4fca5.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></p></li></ol> <h2 id="3-test-the-checkout"><a href="#3-test-the-checkout" class="header-anchor">#</a> 3. Test the checkout</h2> <p>Everything is ready to go now. Do a small test purchase and make sure the order status gets updated according to the BTCPay invoice status. On BTCPay Server invoice details you can see if the webhook events were fired successfully.</p> <h2 id="customizing-virtuemart-btcpay-payment-method-settings"><a href="#customizing-virtuemart-btcpay-payment-method-settings" class="header-anchor">#</a> Customizing VirtueMart BTCPay payment method settings</h2> <p>Your VirtueMart BTCPay payment method settings can be found in menu: VirtueMart -&gt; Payment Methods. Click on the payment method of type &quot;btcpayvm&quot; you created.</p> <h3 id="section-btcpay-server-connection-settings"><a href="#section-btcpay-server-connection-settings" class="header-anchor">#</a> Section: BTCPay Server connection settings</h3> <p>This is the most important part of the configuration. The data entered here will connect your VirtueMart shop with your counterparty store configured on BTCPay Server.</p> <p><strong>BTCPay Server URL</strong></p> <p>URL to your BTCPay Server instance, including protocol e.g. <code>https://btcpay.yourdomain.com</code>.</p> <p><strong>API Key</strong></p> <p>Your BTCPay API Key as mentioned <a href="#22-create-an-api-key-and-configure-permissions">here</a>.</p> <p><strong>Store ID</strong></p> <p>The store ID of your BTCPay Server store. Can be found on the store settings page. See 8. <a href="#22-create-an-api-key-and-configure-permissions">here</a></p> <p><strong>Webhook Secret</strong></p> <p>The wehbook secret which was generated on webhook createion, see <a href="#23-create-a-webhook-on-btcpay-server">here</a></p> <p><strong>Webhook callback URL</strong></p> <p>This field is auto-generated by the plugin and helps you when creating the webhook on BTCPay Server. It contains the needed payment method id and parameters to allow processing of callbacks.</p> <h3 id="section-order-states-mapping"><a href="#section-order-states-mapping" class="header-anchor">#</a> Section: Order states mapping</h3> <p>You can adjust the mapping of BTCPay Server invoice status to VirtueMart order states. On the left are the invoice states and on the right the order states. The defaults here should be good to go - but if you need, you can overwrite them.</p> <p>VirtueMart order statuses are explained <a href="https://docs.virtuemart.net/manual/configuration-menu/order-statuses.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>BTCPay server invoice statuses are explained <a href="/Invoices/#invoice-statuses">here</a></p> <h3 id="section-restrictions"><a href="#section-restrictions" class="header-anchor">#</a> Section: Restrictions</h3> <p>These are VirtueMart provided restrictions you know from other payment plugins. You can restrict the amount or countries when the payment method will be available.</p> <h3 id="section-discounts-and-fees"><a href="#section-discounts-and-fees" class="header-anchor">#</a> Section Discounts and fees</h3> <p>These are VirtueMart provided settings. You can set a fee, cashback and apply tax rules or set a custom logo for the payment method.</p> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <h3 id="error-on-checkout-there-was-an-error-processing-the-payment-on-btcpay-server-please-try-again-and-contact-us-if-the-problem-persists-"><a href="#error-on-checkout-there-was-an-error-processing-the-payment-on-btcpay-server-please-try-again-and-contact-us-if-the-problem-persists-" class="header-anchor">#</a> Error on checkout &quot;There was an error processing the payment on BTCPay Server. Please try again and contact us if the problem persists.&quot;</h3> <p>This means something went wrong with creating the invoice on BTCPay Server. It could be either wrong api key, store id or another communication error. You can find the error logs of the plugin in the following directory: <code>administrator/logs</code> there you will have one or more files called <code>btcpayvm.X.log.php</code> where <code>X</code> is a number e.g. <code>btcpayvm.0.log.php</code> you will find timestamped errors there that should give you a hint what the problem is.</p> <p><strong>Example</strong>:</p> <blockquote><p>2022-05-24 21:10:50 ERROR Error during POST to https://btcpay.example.com/api/v1/stores/4kD5bvAF5j8DokHqAzxb6MFDV4ikabcdefghijklm/invoices. Got response (401): {&quot;code&quot;:&quot;unauthenticated&quot;,&quot;message&quot;:&quot;Authentication is required for accessing this endpoint&quot;}</p></blockquote> <ul><li><p>This means there is some authentication error. Likely your api key does not have permission create invoices for that store. Make sure you gave the api key the right permissions and you give it to the right store and also entered that in VirtueMart payment configuration form.</p></li> <li><p>Another reason could be that you use a legacy api key. The legacy api keys are located in store settings -&gt; Access Tokens. But you need to create an account api key which is located in Account -&gt; Manage Account -&gt; tab &quot;API Keys&quot;. See section <a href="#22-create-an-api-key-and-configure-permissions">2.2 Create an API key and configure permissions</a>.</p></li></ul> <h2 id="the-order-states-do-not-update-although-the-invoice-has-been-paid"><a href="#the-order-states-do-not-update-although-the-invoice-has-been-paid" class="header-anchor">#</a> The order states do not update although the invoice has been paid</h2> <p>Please check the details of your invoice if there were any errors on sending the webhook request. Some hosting providers, firewall setups or Joomla security plugins may block POST requests to your site which lead to a http status of &quot;403 forbidden&quot;.</p> <p>You can check and verify yourself if there is something blocking requests to your site in one of these two ways:</p> <p><strong>1. Copy webhook callback URL</strong>
go to your <em>VirtueMart BTCPay Payment Method Settings</em> and copy the &quot;Webhook callback URL&quot;. e.g. <code>https://EXAMPLE.COM/index.php?option=com_virtuemart&amp;view=pluginresponse&amp;task=pluginnotification&amp;pm=2</code></p> <figure><img src="/assets/img/btcpay-vm--18-troubleshoot-copy-callback-url.70d08e31.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></figure> <p><strong>2.1 Check using a command line (Linux or MacOS):</strong></p> <div class="language- extra-class"><pre class="language-text"><code>curl -vX POST -H &quot;Content-Type: application/json&quot; \
    -d '{&quot;data&quot;: &quot;test&quot;}' WEBHOOK_CALLBACK_URL
</code></pre></div><p>(replace <code>WEBHOOK_CALLBACK_URL</code> with the one copied above)</p> <p>Result:</p> <div class="language- extra-class"><pre class="language-text"><code>.... snip ....
* upload completely sent off: 16 out of 16 bytes
&lt; HTTP/1.1 403 Forbidden
&lt; access-control-allow-origin: *
&lt; Content-Type: application/json; charset=UTF-8
&lt; X-Cloud-Trace-Context: 4f07d5b2e5c2f05949d04421a8e2dd6a
&lt; Date: Thu, 17 Feb 2022 10:06:50 GMT
&lt; Server: Google Frontend
&lt; Content-Length: 26
</code></pre></div><p>If you see that line &quot;HTTP/1.1 403 Forbidden&quot; or &quot;HTTP/2 403&quot; then something is blocking data sent to your VirtueMart site. You should ask your hosting provider or make sure no firewall or plugin is blocking the requests.</p> <p><strong>2.2 Check using an online service (if you do not have a command line available:</strong></p> <ul><li>Go to <a href="https://reqbin.com/post-online" target="_blank" rel="noopener noreferrer">https://reqbin.com/post-online<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><ol><li>Enter your callback url (copied from step 1 above): <code>https://EXAMPLE.COM/index.php?option=com_virtuemart&amp;view=pluginresponse&amp;task=pluginnotification&amp;pm=2</code>
(replace this URL with the webhook callback url from step 1)</li></ol></li> <li>Make sure &quot;POST&quot; is selected</li> <li><ol start="2"><li>Click [Send]</li></ol></li></ul> <figure><img src="/assets/img/btcpay-vm--19-troubleshoot-403-callback.51193927.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL forbidden" title="BTCPay Joomla VirtueMart: Webhook payload URL forbidden"></figure> <p>If you see &quot;<strong>Status 403 (Forbidden)</strong>&quot; then POST requests to your site are blocked for some reason. You should ask your hosting provider or make sure no firewall or plugin is blocking the requests. If you see any other status code (200, 500, ...) a firewall problem seems to not apply, you probably need to further investigate.</p> <h2 id="i-have-troubles-with-using-the-plugin-or-some-other-related-questions"><a href="#i-have-troubles-with-using-the-plugin-or-some-other-related-questions" class="header-anchor">#</a> I have troubles with using the plugin or some other related questions</h2> <p>Feel free to join our support channel over at <a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer">https://chat.btcpayserver.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> if you need help or have any further questions.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/edit/master/docs/VirtueMart.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/issues/new?title=Improve%20Joomla%20VirtueMart%20integration&amp;body=I%20could%20not%20find%20the%20information%20I%20was%20looking%20for%20on%20the%20%22Joomla%20VirtueMart%20integration%22%20page%20(%60%2FVirtueMart%2F%60).%0A%0A%5BPLEASE%20DESCRIBE%20HOW%20THE%20PAGE%20CAN%20BE%20IMPROVED%5D&amp;labels=question" target="_blank" rel="noopener noreferrer">Didn't find an answer?</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Smartstore/" class="prev">
        Smartstore
      </a></span> <span class="next"><a href="/Wix/">
        Wix
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8cd13af2.js" defer></script><script src="/assets/js/2.8fe28a32.js" defer></script><script src="/assets/js/15.19297503.js" defer></script>
  </body>
</html>
